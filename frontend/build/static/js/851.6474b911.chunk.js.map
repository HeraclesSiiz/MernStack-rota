{"version":3,"file":"static/js/851.6474b911.chunk.js","mappings":"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","sources":["pages/roaster.js","../node_modules/react-bootstrap-time-picker/dist/bundle.js","../node_modules/react-confirm-alert/lib/index.js","../node_modules/time-number/dist/time-number.js"],"sourcesContent":["import React, { Component } from \"react\";\r\n\r\nimport axios from \"axios\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport {\r\n  MDBContainer,\r\n  MDBBtn,\r\n  MDBBtnGroup,\r\n  MDBRow,\r\n  MDBCol,\r\n} from \"mdb-react-ui-kit\";\r\nimport DataTable from \"react-data-table-component\";\r\nimport { connect } from \"react-redux\";\r\nimport { confirmAlert } from \"react-confirm-alert\";\r\nimport TimePicker from \"react-bootstrap-time-picker\";\r\n\r\nimport { FaPlus, FaMinus } from \"react-icons/fa\";\r\n\r\nimport { nAllUpd } from \"../store/Actions/BasicAction\";\r\n\r\nimport toastr from \"toastr\";\r\nimport \"toastr/build/toastr.min.css\";\r\n\r\nimport \"./../css/react-confirm-alert.css\";\r\nimport Autocomplete from \"react-autocomplete\";\r\n\r\nclass Roaster extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    let selMonth =\r\n      new Date().getMonth() - 1\r\n        ? new Date().getMonth() + 1\r\n        : \"0\" + (new Date().getMonth() + 1);\r\n    this.state = {\r\n      isEditable: false,\r\n      selPatient: 0,\r\n      selPatientValue: \"\",\r\n      perPatient: false,\r\n      selYear: new Date().getFullYear(),\r\n      selMonth: selMonth,\r\n      assigns: [],\r\n      assignPerDay: [],\r\n    };\r\n  }\r\n\r\n  componentDidMount() {}\r\n  viewPerPatient = (e) => {\r\n    this.setState({\r\n      ...this.state,\r\n      perPatient: !this.state.perPatient,\r\n    });\r\n  };\r\n  getTotals(data, key) {\r\n    let total = 0;\r\n    data.forEach((item) => {\r\n      total += item[key] ? item[key] : 0;\r\n    });\r\n    return total;\r\n  }\r\n\r\n  save = () => {\r\n    const { basic } = this.props;\r\n    const {\r\n      isEditable,\r\n      selPatient,\r\n      selYear,\r\n      selMonth,\r\n      assigns,\r\n    } = this.state;\r\n    if (isEditable) {\r\n      this.setState({\r\n        ...this.state,\r\n        isEditable: false,\r\n      });\r\n      const { requestblocks } = this.props.basic;\r\n      if(requestblocks.length !== 0){\r\n        toastr.clear();\r\n        setTimeout(() => toastr.warning(\"This item cannot be requested! Please wait until approver approve the transfer request.\"), 300);\r\n        return;\r\n      }\r\n      console.log(assigns);\r\n      axios\r\n        .post(\"rota/assign\", {\r\n          patient_id: selPatient,\r\n          year: selYear,\r\n          month: selMonth,\r\n          assignData: assigns,\r\n        })\r\n        .then(function (response) {\r\n          let res = response.data;\r\n          if(res.state == \"error\"){\r\n            toastr.clear();\r\n            setTimeout(() => toastr.info(\"roaster edit request error!\"), 3000);\r\n          }\r\n        })\r\n        .catch(function (error) {});\r\n    } else {\r\n      let assigns = [];\r\n      let assignPerDay = [];\r\n      let newAssign = [];\r\n      let month = selYear + \"-\" + selMonth;\r\n      let daysInMonth = new Date(selYear, selMonth, 0).getDate();\r\n\r\n      if (selPatient !== 0) {\r\n        for (let i = 0; i < daysInMonth; i++) {\r\n          assignPerDay[i + 1] = 0;\r\n        }\r\n\r\n        basic.nurses.map((nurse) => {\r\n          nurse.rota.map((rota) => {\r\n            if (rota.patient_id == selPatient && rota.date.includes(month)) {\r\n              let day = rota.date.slice(8) * 1;\r\n              assignPerDay[day]++;\r\n              assigns.push({\r\n                date: rota.date,\r\n                day: day,\r\n                nurse_name: nurse.name,\r\n                nurse_short_id: nurse._id.slice(20),\r\n                nurse_id: nurse._id,\r\n                designation: nurse.level == 0 ? \"Registered\" : \"Assistant\",\r\n                duty_start: rota.duty_start,\r\n                duty_end: rota.duty_end,\r\n                hour: rota.hour,\r\n              });\r\n            }\r\n          });\r\n        });\r\n\r\n        for (let i = 0; i < daysInMonth; i++) {\r\n          if (assignPerDay[(i + 1) * 1] == 0) {\r\n            assignPerDay[(i + 1) * 1] = 1;\r\n            newAssign.date =\r\n              month + \"-\" + (i < 9 ? +\"0\" + String(i + 1) : i + 1);\r\n            newAssign.day = (i + 1) * 1;\r\n            newAssign.nurse_name = \"NA\";\r\n            newAssign.nurse_short_id = \"NA\";\r\n            newAssign.nurse_id = \"NA\";\r\n            newAssign.designation = \"NA\";\r\n            newAssign.duty_start = \"NA\";\r\n            newAssign.duty_end = \"NA\";\r\n            newAssign.hour = \"NA\";\r\n\r\n            assigns = [...assigns, { ...newAssign }];\r\n          }\r\n        }\r\n        assigns.sort((a, b) =>\r\n          a.date > b.date\r\n            ? 1\r\n            : b.date > a.date\r\n            ? -1\r\n            : a.duty_start > b.duty_start\r\n            ? 1\r\n            : b.duty_start > a.duty_start\r\n            ? -1\r\n            : 0\r\n        );\r\n\r\n        let total = 0;\r\n        for (var i in assignPerDay) {\r\n          for (var j = 1; j <= assignPerDay[i]; j++) {\r\n            assigns[total].rotation = j;\r\n            total++;\r\n          }\r\n        }\r\n\r\n        this.setState({\r\n          ...this.state,\r\n          isEditable: true,\r\n          assigns: [...assigns],\r\n          assignPerDay: [...assignPerDay],\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  multiAssign = (e, row) => {\r\n    const { selYear, selMonth, assigns, assignPerDay } = this.state;\r\n\r\n    let selMultiDay = row.day;\r\n    let month = selYear + \"-\" + selMonth;\r\n\r\n    let newAssign = {};\r\n    newAssign.date =\r\n      month +\r\n      \"-\" +\r\n      (selMultiDay < 9 ? +\"0\" + String(selMultiDay) : selMultiDay);\r\n    newAssign.day = selMultiDay;\r\n    newAssign.rotation = assignPerDay[selMultiDay] + 1;\r\n    newAssign.nurse_name = \"NA\";\r\n    newAssign.nurse_name = \"NA\";\r\n    newAssign.nurse_short_id = \"NA\";\r\n    newAssign.nurse_id = \"NA\";\r\n    newAssign.designation = \"NA\";\r\n    newAssign.duty_start = \"NA\";\r\n    newAssign.duty_end = \"NA\";\r\n    newAssign.hour = \"NA\";\r\n\r\n    let n = 0;\r\n    assignPerDay[selMultiDay]++;\r\n    for (let i = 1; i < selMultiDay * 1 + 1; i++) {\r\n      n += assignPerDay[i];\r\n    }\r\n    assigns.splice(n - 1, 0, newAssign);\r\n    assigns.splice(-1);\r\n\r\n    this.setState({\r\n      ...this.state,\r\n      assigns: [...assigns],\r\n      assignPerDay: [...assignPerDay],\r\n    });\r\n  };\r\n  multiRemove = (e, row) => {\r\n    const { assigns, assignPerDay } = this.state;\r\n\r\n    let selMultiDay = row.day;\r\n    let n = 0;\r\n    for (let i = 1; i < selMultiDay; i++) {\r\n      n += assignPerDay[i];\r\n    }\r\n\r\n    if (assignPerDay[selMultiDay] == 1) {\r\n      assigns[n].nurse_name = \"NA\";\r\n      assigns[n].nurse_short_id = \"NA\";\r\n      assigns[n].nurse_id = \"NA\";\r\n      assigns[n].designation = \"NA\";\r\n      assigns[n].duty_start = \"NA\";\r\n      assigns[n].duty_end = \"NA\";\r\n      assigns[n].hour = \"NA\";\r\n      assigns.splice(-1);\r\n      this.setState({\r\n        ...this.state,\r\n        assigns: [...assigns],\r\n      });\r\n    } else {\r\n      for (let j = 0; j < assignPerDay[selMultiDay]; j++) {\r\n        if (j == row.rotation - 1) {\r\n          assigns.splice(n + j, 1);\r\n        } else if (j >= row.rotation) {\r\n          assigns[n + j - 1].rotation--;\r\n        }\r\n      }\r\n      assignPerDay[selMultiDay]--;\r\n\r\n      assigns.splice(-1);\r\n      this.setState({\r\n        ...this.state,\r\n        assigns: [...assigns],\r\n        assignPerDay: [...assignPerDay],\r\n      });\r\n    }\r\n  };\r\n\r\n  onChangePatient = (e) => {\r\n    // console.log(e.target);\r\n    this.setState({\r\n      ...this.state,\r\n      selPatient: 0,\r\n      selPatientValue: e.target.value,\r\n    });\r\n  };\r\n\r\n  onSelectPatient = (val, item) => {\r\n    this.setState({\r\n      ...this.state,\r\n      selPatient: item.key,\r\n      selPatientValue: val,\r\n    });\r\n  };\r\n  onChangeYear = (e) => {\r\n    this.setState({\r\n      ...this.state,\r\n      selYear: e.target.value,\r\n      isEditable: false,\r\n    });\r\n  };\r\n  onChangeMonth = (e) => {\r\n    this.setState({\r\n      ...this.state,\r\n      selMonth: e.target.value,\r\n      isEditable: false,\r\n    });\r\n  };\r\n  onChangeMultiDay = (e) => {\r\n    this.setState({\r\n      ...this.state,\r\n      selMultiDay: e.target.value,\r\n    });\r\n  };\r\n  onChangeNurse = (e, row) => {\r\n    const { basic } = this.props;\r\n    let { assigns } = this.state;\r\n\r\n    assigns.map((assign, assignIndex) => {\r\n      if (assign.day == row.day && assign.rotation == row.rotation) {\r\n        basic.nurses.map((nurse) => {\r\n          if (nurse._id == e.target.value) {\r\n            assigns[assignIndex].nurse_name = nurse.name;\r\n            assigns[assignIndex].nurse_id = nurse._id;\r\n            assigns[assignIndex].nurse_short_id = nurse._id.slice(20);\r\n            assigns[assignIndex].designation =\r\n              nurse.level == 0 ? \"Registered\" : \"Assistant\";\r\n          }\r\n        });\r\n      }\r\n    });\r\n\r\n    assigns.splice(-1);\r\n    this.setState({\r\n      ...this.state,\r\n      assigns: [...assigns],\r\n    });\r\n  };\r\n  onChangeDutyStart = (e, row) => {\r\n    const { basic } = this.props;\r\n    let { assigns, selPatient } = this.state;\r\n    var _self = this;\r\n    var hour =\r\n      parseInt(e / 3600) > 9 ? parseInt(e / 3600) : \"0\" + parseInt(e / 3600);\r\n    var min = e % 3600 == 0 ? \"00\" : \"30\";\r\n    var _start = hour + \":\" + min;\r\n    var _end, _hour;\r\n    if (hour >= 12) {\r\n      _end = \"23:30\";\r\n      _hour = 23 - hour;\r\n    } else {\r\n      _end = hour + 12 + \":\" + min;\r\n      _hour = 12;\r\n    }\r\n    var rotas;\r\n    var isduplicate = false;\r\n\r\n    var assignCount = assigns.length;\r\n    var isAssign = false;\r\n\r\n    let step = function () {\r\n      return new Promise(function (resolve) {\r\n        assigns.map((assign, index) => {\r\n          if (\r\n            assign.rotation !== row.rotation &&\r\n            assign.date == row.date &&\r\n            assign.duty_start < _start &&\r\n            assign.duty_end > _start\r\n          ) {\r\n            isAssign = true;\r\n            toastr.info(\r\n              \"Already Assign Hour in rotation\" + assign.rotation + \"!\"\r\n            );\r\n          }\r\n          if (index == assignCount - 1 && isAssign == false) {\r\n            resolve();\r\n          }\r\n        });\r\n      }).then(function () {\r\n        return new Promise(function (resolve) {\r\n          basic.nurses.map((nurse) => {\r\n            if (nurse._id == row.nurse_id) {\r\n              rotas = nurse.rota.length;\r\n              if (rotas == 0) {\r\n                resolve();\r\n              }\r\n              nurse.rota.map((rota, rotaIndex) => {\r\n                if (\r\n                  rota.date == row.date &&\r\n                  rota.duty_start < _start &&\r\n                  rota.duty_end > _start\r\n                ) {\r\n                  isduplicate = true;\r\n                  basic.patients.map((patient) => {\r\n                    if (\r\n                      rota.patient_id != selPatient &&\r\n                      rota.patient_id == patient._id\r\n                    ) {\r\n                      confirmAlert({\r\n                        title: \"Duplicate Time\",\r\n                        message:\r\n                          \"Nurse is allocated for \" +\r\n                          rota.duty_start +\r\n                          \" to \" +\r\n                          rota.duty_end +\r\n                          \" to \" +\r\n                          patient.name +\r\n                          \". You want to overwrite?\",\r\n                        buttons: [\r\n                          {\r\n                            label: \"Yes\",\r\n                            onClick: () => {\r\n                              resolve();\r\n                            },\r\n                          },\r\n                          {\r\n                            label: \"No\",\r\n                            onClick: () => {},\r\n                          },\r\n                        ],\r\n                      });\r\n                    }\r\n                  });\r\n                }\r\n                if (rotaIndex == rotas - 1 && isduplicate == false) {\r\n                  resolve();\r\n                }\r\n              });\r\n            }\r\n          });\r\n        }).then(function () {\r\n          assigns.map((assign, assignIndex) => {\r\n            if (assign.day == row.day && assign.rotation == row.rotation) {\r\n              basic.nurses.map((nurse) => {\r\n                if (nurse._id == row.nurse_id) {\r\n                  assigns[assignIndex].duty_start = _start;\r\n                  assigns[assignIndex].duty_end = _end;\r\n                  assigns[assignIndex].hour = _hour;\r\n                }\r\n              });\r\n            }\r\n          });\r\n\r\n          assigns.splice(-1);\r\n          _self.setState({\r\n            ..._self.state,\r\n            assigns: [...assigns],\r\n          });\r\n        });\r\n      });\r\n    };\r\n    step();\r\n  };\r\n  onChangeDutyEnd = (e, row) => {\r\n    const { basic } = this.props;\r\n    let { assigns, selPatient } = this.state;\r\n    var _self = this;\r\n    var hour =\r\n      parseInt(e / 3600) > 9 ? parseInt(e / 3600) : \"0\" + parseInt(e / 3600);\r\n    var min = e % 3600 == 0 ? \"00\" : \"30\";\r\n    var _end = hour + \":\" + min;\r\n    var rotas;\r\n    var isduplicate = false;\r\n\r\n    var assignCount = assigns.length;\r\n    var isAssign = false;\r\n\r\n    let step = function () {\r\n      return new Promise(function (resolve) {\r\n        assigns.map((assign, index) => {\r\n          if (\r\n            assign.rotation !== row.rotation &&\r\n            assign.date == row.date &&\r\n            assign.duty_start != \"NA\" &&\r\n            assign.duty_end != \"NA\" &&\r\n            assign.duty_start < _end &&\r\n            assign.duty_end > row.duty_start\r\n          ) {\r\n            isAssign = true;\r\n            toastr.info(\r\n              \"Already Assign Hour in rotation\" + assign.rotation + \"!\"\r\n            );\r\n          }\r\n          if (index == assignCount - 1 && isAssign == false) {\r\n            resolve();\r\n          }\r\n        });\r\n      }).then(function () {\r\n        return new Promise(function (resolve) {\r\n          basic.nurses.map((nurse) => {\r\n            if (nurse._id == row.nurse_id) {\r\n              rotas = nurse.rota.length;\r\n              if (rotas == 0) {\r\n                resolve();\r\n              }\r\n              nurse.rota.map((rota, rotaIndex) => {\r\n                if (\r\n                  rota.date == row.date &&\r\n                  rota.duty_end > row.duty_start &&\r\n                  rota.duty_start < _end\r\n                ) {\r\n                  basic.patients.map((patient) => {\r\n                    if (\r\n                      rota.patient_id != selPatient &&\r\n                      rota.patient_id == patient._id\r\n                    ) {\r\n                      isduplicate = true;\r\n                      confirmAlert({\r\n                        title: \"Duplicate Time\",\r\n                        message:\r\n                          \"Nurse is allocated for \" +\r\n                          rota.duty_start +\r\n                          \" to \" +\r\n                          rota.duty_end +\r\n                          \" to \" +\r\n                          patient.name +\r\n                          \". You want to overwrite?\",\r\n                        buttons: [\r\n                          {\r\n                            label: \"Yes\",\r\n                            onClick: () => {\r\n                              resolve();\r\n                            },\r\n                          },\r\n                          {\r\n                            label: \"No\",\r\n                            onClick: () => {},\r\n                          },\r\n                        ],\r\n                      });\r\n                    }\r\n                  });\r\n                }\r\n                if (rotaIndex == rotas - 1 && isduplicate == false) {\r\n                  resolve();\r\n                }\r\n              });\r\n            }\r\n          });\r\n        }).then(function () {\r\n          assigns.map((assign, assignIndex) => {\r\n            if (assign.day == row.day && assign.rotation == row.rotation) {\r\n              basic.nurses.map((nurse) => {\r\n                if (nurse._id == row.nurse_id) {\r\n                  assigns[assignIndex].duty_end = _end;\r\n                  if (assigns[assignIndex].duty_end != \"NA\") {\r\n                    assigns[assignIndex].hour = Math.abs(\r\n                      assigns[assignIndex].duty_end.split(\":\")[0] -\r\n                        assigns[assignIndex].duty_start.split(\":\")[0]\r\n                    );\r\n                  }\r\n                }\r\n              });\r\n            }\r\n          });\r\n\r\n          assigns.splice(-1);\r\n          _self.setState({\r\n            ..._self.state,\r\n            assigns: [...assigns],\r\n          });\r\n        });\r\n      });\r\n    };\r\n    step();\r\n  };\r\n\r\n  swap(json) {\r\n    let ret = [];\r\n    for (var key in json) {\r\n      ret[json[key]] = key;\r\n    }\r\n    return ret;\r\n  }\r\n\r\n  render() {\r\n    const { basic } = this.props;\r\n    const {user} = this.props.basic;\r\n    const {\r\n      selPatient,\r\n      selPatientValue,\r\n      selYear,\r\n      selMonth,\r\n      isEditable,\r\n      assigns,\r\n      assignPerDay,\r\n    } = this.state;\r\n    let assignColumns = [];\r\n    let assignDatas = [];\r\n    let assignPerDayDatas = [];\r\n    let newAssign = [];\r\n    let assignHour;\r\n    let month = selYear + \"-\" + selMonth;\r\n    let daysInMonth = new Date(selYear, selMonth, 0).getDate();\r\n\r\n    let monthNames = basic.monthNames;\r\n\r\n    // console.log(monthNames);\r\n    // let monthObject = {...monthNames};\r\n\r\n    let Mon = Object.keys(monthNames);\r\n    let NoMon = Object.values(monthNames);\r\n\r\n    const MonthSelect = Mon.map((month, index) => (\r\n      <option key={index} value={NoMon[index]}>{month}</option>\r\n    ));\r\n    let thour = 0;\r\n    //get holidays per month\r\n    let holidays = basic.holidays;\r\n    let holidaysPerMonth = [];\r\n    holidays.map((holiday) => {\r\n      if (holiday.slice(0, 2) == selMonth) {\r\n        holidaysPerMonth.push(selYear + \"-\" + holiday);\r\n      }\r\n    });\r\n    //get sundays per month\r\n    let sundaysPerMonth = [];\r\n    let date = selYear + \"-\" + selMonth + \"-01\";\r\n    let firstDate = new Date(date).getDay();\r\n    if (firstDate == 0) {\r\n      firstDate = 1;\r\n    } else {\r\n      firstDate = 7 - firstDate + 1;\r\n    }\r\n    for (let selDay = firstDate; selDay < daysInMonth; selDay += 7) {\r\n      let day = selDay > 9 ? selDay : \"0\" + selDay;\r\n      sundaysPerMonth.push(month + \"-\" + day);\r\n    }\r\n\r\n    if (isEditable) {\r\n      assignColumns = [\r\n        {\r\n          name: \"Date\",\r\n          center: true,\r\n          wrap: true,\r\n          selector: (row) => row.date,\r\n        },\r\n        // {\r\n        //   name: \"Rotation No\",\r\n        //   center:true,\r\n        //   wrap:true,\r\n        //   selector: (row) => row.rotation,\r\n        // },\r\n        {\r\n          name: \"Emp ID\",\r\n          center: true,\r\n          wrap: true,\r\n          with: \"80px\",\r\n          selector: (row) => row.nurse_short_id,\r\n        },\r\n        {\r\n          name: \"Emp Name\",\r\n          center: true,\r\n          wrap: true,\r\n          width: \"200px\",\r\n          cell: (row) => (row.date !== \"Total\"&&\r\n            <Form.Select\r\n              aria-label=\"patient select\"\r\n              value={row._nurse_id}\r\n              onChange={(e) => this.onChangeNurse(e, row)}\r\n            >\r\n              <option value=\"0\">Select Nurse</option>\r\n              {basic.nurses.map((nurse, index) => {\r\n                //get leavedays per month\r\n                let leaves = nurse.leave ? nurse.leave : [];\r\n                let leavedaysPerMonth = [];\r\n\r\n                for (let leave of leaves) {\r\n                  let from = new Date(leave.from);\r\n                  let to = new Date(leave.to);\r\n                  for (let betweenDay = from; betweenDay <= to; ) {\r\n                    let year = betweenDay.getFullYear();\r\n                    let day =\r\n                      betweenDay.getDate() > 9\r\n                        ? betweenDay.getDate()\r\n                        : \"0\" + betweenDay.getDate();\r\n                    if (\r\n                      year == selYear &&\r\n                      betweenDay.getMonth() + 1 == parseInt(selMonth)\r\n                    ) {\r\n                      leavedaysPerMonth.push(month + \"-\" + day);\r\n                    }\r\n                    betweenDay.setDate(betweenDay.getDate() + 1);\r\n                  }\r\n                }\r\n\r\n                let workingdays = [\r\n                  ...leavedaysPerMonth,\r\n                  ...holidaysPerMonth,\r\n                  ...sundaysPerMonth,\r\n                ];\r\n                workingdays = [...new Set(workingdays)];\r\n                assignHour = (daysInMonth - workingdays.length) * 8;\r\n\r\n                basic.nurses.map((_nurse, index) => {\r\n                  if (_nurse._id == nurse._id) {\r\n                    _nurse.rota.map((rota) => {\r\n                      if (\r\n                        rota.date.includes(month) &&\r\n                        rota.patient_id != selPatient\r\n                      ) {\r\n                        assignHour -= rota.hour;\r\n                      }\r\n                    });\r\n                  }\r\n                });\r\n\r\n                assigns.map((assign) => {\r\n                  if (assign.nurse_id == nurse._id && assign.hour != \"NA\") {\r\n                    assignHour -= assign.hour;\r\n                  }\r\n                });\r\n                return (\r\n                  <option\r\n                    key={index}\r\n                    value={nurse._id}\r\n                    className=\"assign\"\r\n                    selected={nurse._id == row.nurse_id ? \"selected\" : \"\"}\r\n                  >\r\n                    {nurse.name}\r\n                    {\"(\" + assignHour + \")\"}\r\n                  </option>\r\n                );\r\n              })}\r\n            </Form.Select>\r\n          ),\r\n        },\r\n        {\r\n          name: \"Designation\",\r\n          center: true,\r\n          wrap: true,\r\n          width: \"100px\",\r\n          selector: (row) => row.designation,\r\n        },\r\n        {\r\n          name: \"Duty Start\",\r\n          center: true,\r\n          wrap: true,\r\n          width: \"140px\",\r\n          cell: (row) => (row.date !== \"Total\"&&\r\n            <TimePicker\r\n              step={30}\r\n              value={row.duty_start == \"NA\" ? \"12:00\" : row.duty_start}\r\n              disabled={row.nurse_id == \"NA\" ? \"disabled\" : \"\"}\r\n              onChange={(e) => this.onChangeDutyStart(e, row)}\r\n            />\r\n          ),\r\n        },\r\n        {\r\n          name: \"Duty End\",\r\n          center: true,\r\n          wrap: true,\r\n          width: \"140px\",\r\n          selector: (row) => (row.date !== \"Total\"&&\r\n            <TimePicker\r\n              start={row.duty_start == \"NA\" ? \"00:00\" : row.duty_start}\r\n              step={30}\r\n              value={row.duty_end == \"NA\" ? \"12:00\" : row.duty_end}\r\n              disabled={row.duty_start == \"NA\" ? \"disabled\" : \"\"}\r\n              onChange={(e) => this.onChangeDutyEnd(e, row)}\r\n            />\r\n          ),\r\n        },\r\n        {\r\n          name: \"Hour\",\r\n          center: true,\r\n          wrap: true,\r\n          width: \"80px\",\r\n          selector: (row) => row.hour,\r\n        },\r\n        {\r\n          name: \"Action\",\r\n          center: true,\r\n          wrap: true,\r\n          width: \"120px\",\r\n          selector: (row) =>\r\n            row.rotation == 1 ? (\r\n              [\r\n                <MDBBtnGroup key={row.leave_id}>\r\n                  <MDBBtn\r\n                    outline\r\n                    floating\r\n                    color=\"success\"\r\n                    size=\"sm\"\r\n                    onClick={(e) => this.multiAssign(e, row)}\r\n                  >\r\n                    <FaPlus />\r\n                  </MDBBtn>\r\n                  <MDBBtn\r\n                    outline\r\n                    floating\r\n                    color=\"success\"\r\n                    size=\"sm\"\r\n                    onClick={(e) => this.multiRemove(e, row)}\r\n                  >\r\n                    <FaMinus />\r\n                  </MDBBtn>\r\n                </MDBBtnGroup>,\r\n              ]\r\n            ) : (\r\n              <MDBBtn\r\n                outline\r\n                floating\r\n                color=\"success\"\r\n                size=\"sm\"\r\n                onClick={(e) => this.multiRemove(e, row)}\r\n              >\r\n                <FaMinus />\r\n              </MDBBtn>\r\n            ),\r\n        },\r\n      ];\r\n\r\n      assignDatas = assigns;\r\n      assignPerDayDatas = assignPerDay;\r\n    } else {\r\n      assignColumns = [\r\n        {\r\n          name: \"Date\",\r\n          center: true,\r\n          wrap: true,\r\n          selector: (row) => row.date,\r\n        },\r\n        {\r\n          name: \"Emp ID\",\r\n          center: true,\r\n          wrap: true,\r\n          with: \"80px\",\r\n          selector: (row) => row.nurse_short_id,\r\n        },\r\n        {\r\n          name: \"Emp Name\",\r\n          center: true,\r\n          wrap: true,\r\n          selector: (row) => row.nurse_name,\r\n        },\r\n        {\r\n          name: \"Designation\",\r\n          center: true,\r\n          wrap: true,\r\n          selector: (row) => row.designation,\r\n        },\r\n        {\r\n          name: \"Duty Start\",\r\n          center: true,\r\n          wrap: true,\r\n          selector: (row) => row.duty_start,\r\n        },\r\n        {\r\n          name: \"Duty End\",\r\n          center: true,\r\n          wrap: true,\r\n          selector: (row) => row.duty_end,\r\n        },\r\n        {\r\n          name: \"Hour\",\r\n          center: true,\r\n          wrap: true,\r\n          selector: (row) => row.hour,\r\n        },\r\n      ];\r\n\r\n      if (selPatient != 0) {\r\n        for (let i = 0; i < daysInMonth; i++) {\r\n          assignPerDayDatas[i + 1] = 0;\r\n        }\r\n\r\n        basic.nurses.map((nurse) => {\r\n          nurse.rota.map((rota) => {\r\n            if (rota.patient_id == selPatient && rota.date.includes(month)) {\r\n              thour += rota.hour;\r\n              let day = rota.date.slice(8) * 1;\r\n              assignPerDayDatas[day]++;\r\n              assignDatas.push({\r\n                date: rota.date,\r\n                day: day,\r\n                nurse_name: nurse.name,\r\n                nurse_short_id: nurse._id.slice(20),\r\n                nurse_id: nurse._id,\r\n                designation: nurse.level == 0 ? \"Registered\" : \"Assistant\",\r\n                duty_start: rota.duty_start,\r\n                duty_end: rota.duty_end,\r\n                hour: rota.hour,\r\n              });\r\n            }\r\n          });\r\n        });\r\n\r\n        for (let i = 0; i < daysInMonth; i++) {\r\n          if (assignPerDayDatas[(i + 1) * 1] == 0) {\r\n            assignPerDayDatas[(i + 1) * 1] = 1;\r\n            newAssign.date =\r\n              month + \"-\" + (i < 9 ? +\"0\" + String(i + 1) : i + 1);\r\n            newAssign.day = (i + 1) * 1;\r\n            newAssign.nurse_name = \"NA\";\r\n            newAssign.nurse_short_id = \"NA\";\r\n            newAssign.nurse_id = \"NA\";\r\n            newAssign.designation = \"NA\";\r\n            newAssign.duty_start = \"NA\";\r\n            newAssign.duty_end = \"NA\";\r\n            newAssign.hour = \"NA\";\r\n\r\n            assignDatas = [...assignDatas, { ...newAssign }];\r\n          }\r\n        }\r\n\r\n        assignDatas.sort((a, b) =>\r\n          a.date > b.date\r\n            ? 1\r\n            : b.date > a.date\r\n            ? -1\r\n            : a.duty_start > b.duty_start\r\n            ? 1\r\n            : b.duty_start > a.duty_start\r\n            ? -1\r\n            : 0\r\n        );\r\n\r\n        let total = 0;\r\n        for (var i in assignPerDayDatas) {\r\n          for (var j = 1; j <= assignPerDayDatas[i]; j++) {\r\n            assignDatas[total].rotation = j;\r\n            total++;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    let patientList = [];\r\n    let patientAutoList = [];\r\n\r\n    basic.patients.map((patient) => {\r\n      patientList[patient._id] = patient.name;\r\n      if (patient.name.includes(selPatientValue)) {\r\n        patientAutoList.push({\r\n          label: patient.name,\r\n          key: patient._id,\r\n        });\r\n      }\r\n    });\r\n    let total = {\r\n      date: \"Total\",\r\n      hour: thour,\r\n    };\r\n    for (let month in monthNames) {\r\n      total[month] = this.getTotals(assignDatas, month);\r\n    }\r\n    total[\"total\"] = this.getTotals(assignDatas, \"total\");\r\n    assignDatas.push(total);\r\n\r\n    const conditionalRowStyles = [\r\n      {\r\n        when: (row) => row.rotation == 1,\r\n        style: (row) => ({\r\n          backgroundColor:\r\n            row.day % 2 == 1 ? \"rgb(160,160,160)\" : \"rgb(192,192,192)\",\r\n        }),\r\n      },\r\n    ];\r\n\r\n    return (\r\n      <MDBContainer>\r\n        <div className=\"pt-5 text-center text-dark\">\r\n          <h1 className=\"mt-3\">DUTY ROASTER</h1>\r\n        </div>\r\n        <MDBRow className=\" align-items-center justify-content-center\">\r\n          <MDBCol md=\"4\" className=\"pt-4\"></MDBCol>\r\n        </MDBRow>\r\n        <MDBRow className=\" align-items-center justify-content-center\">\r\n          <MDBCol className=\"autocomplete col-md-3 ncard\">\r\n            <Autocomplete\r\n              getItemValue={(item) => item.label}\r\n              items={patientAutoList}\r\n              inputProps={{ placeholder: \"Select Patients\" }}\r\n              renderItem={(item, isHighlighted) => (\r\n                <div\r\n                  style={{\r\n                    background: isHighlighted ? \"#2E86C1\" : \"white\",\r\n                    color: isHighlighted ? \"white\" : \"black\",\r\n                    borderRadius: \"1px\",\r\n                    backgroundColor: \"white\",\r\n                    fontSize: \"15px\",\r\n                    fontFamily: \"Arial\",\r\n                  }}\r\n                >\r\n                  {item.label}\r\n                </div>\r\n              )}\r\n              value={selPatientValue}\r\n              onChange={(e) => this.onChangePatient(e)}\r\n              onSelect={(val, item) => this.onSelectPatient(val, item)}\r\n            />\r\n          </MDBCol>\r\n          <MDBCol md=\"2\">\r\n            <Form.Group>\r\n              <Form.Control\r\n                type=\"number\"\r\n                value={selYear}\r\n                placeholder=\"Year\"\r\n                min={2022}\r\n                max={new Date().getFullYear()}\r\n                onChange={(e) => this.onChangeYear(e)}\r\n              />\r\n            </Form.Group>\r\n          </MDBCol>\r\n          <MDBCol md=\"2\">\r\n            <Form.Select\r\n              aria-label=\"select\"\r\n              value={selMonth}\r\n              onChange={(e) => this.onChangeMonth(e)}\r\n            >\r\n              {MonthSelect}\r\n            </Form.Select>\r\n          </MDBCol>\r\n          {user.hasOwnProperty(\"role\") && user.role !== 1 &&\r\n          <MDBCol md=\"2\">\r\n            <MDBBtn\r\n              outline\r\n              rounded\r\n              color=\"success\"\r\n              type=\"button\"\r\n              onClick={() => this.save()}\r\n            >\r\n              {isEditable ? \"save\" : \"edit\"}\r\n            </MDBBtn>\r\n          </MDBCol>\r\n          }\r\n        </MDBRow>\r\n        <MDBRow className=\"p-2\">\r\n          <DataTable\r\n            columns={assignColumns}\r\n            data={assignDatas}\r\n            fixedHeader\r\n            fixedHeaderScrollHeight={\"70vh\"}\r\n            conditionalRowStyles={conditionalRowStyles}\r\n          />\r\n        </MDBRow>\r\n      </MDBContainer>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  getRoaster: (data) => dispatch(nAllUpd(data)),\r\n});\r\n\r\nconst mapStateToProps = (BasicData) => ({\r\n  basic: BasicData.BasicData,\r\n});\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Roaster);\r\n","module.exports=function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,\"a\",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=\"\",e(e.s=0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(2);e.default=r.a},function(t,e,n){\"use strict\";function r(){return r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r.apply(this,arguments)}function o(t,e){if(null==t)return{};var n,r,o=a(t,e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(r=0;r<u.length;r++)n=u[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function a(t,e){if(null==t)return{};var n,r,o={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}function u(t){function e(t){var e=Object(v.timeFromInt)(t,!1);if(24===l)return e;var n=e.match(/^(\\d+):/),r=parseInt(n[1],10);if(0===r)return\"\".concat(e.replace(/^\\d+/,\"12\"),\" AM\");if(r<12)return\"\".concat(e,\" AM\");if(12===r)return\"\".concat(e,\" PM\");var o=r<22?\"0\".concat(r-12):(r-12).toString();return\"\".concat(e.replace(/^\\d+/,o),\" PM\")}function n(){for(var t=[],e=Object(v.timeToInt)(u,!1),n=Object(v.timeToInt)(y,!1);n<=e;n+=60*g)t.push(n);return t}var a=t.end,u=void 0===a?\"23:59\":a,i=t.format,l=void 0===i?12:i,f=t.initialValue,p=void 0===f?\"00:00\":f,m=t.onChange,d=void 0===m?function(){}:m,b=t.start,y=void 0===b?\"00:00\":b,O=t.step,g=void 0===O?30:O,h=t.value,j=void 0===h?null:h,x=o(t,[\"end\",\"format\",\"initialValue\",\"onChange\",\"start\",\"step\",\"value\"]),I=function(){return n().map(function(t){return{key:t,val:e(t)}})}(),P=I.map(function(t){var e=t.key,n=t.val;return c.a.createElement(\"option\",{key:e,value:e},n)}),M=j||p;try{M=Object(v.timeToInt)(M)}catch(t){M=parseInt(M,10)}return I.filter(function(t){var e=t.key;return M===e}).length||(M=Object(v.timeToInt)(y)),c.a.createElement(s.a,r({as:\"select\",onChange:function(t){d(parseInt(t.target.value,10))},value:M},x),P)}var i=n(3),c=n.n(i),l=n(4),f=n.n(l),p=n(5),s=n.n(p),v=n(6),m=(n.n(v),{end:f.a.string,format:f.a.number,initialValue:f.a.any,onChange:f.a.func,start:f.a.string,step:f.a.number,value:f.a.any});u.propTypes=m,e.a=u},function(t,e){t.exports=require(\"react\")},function(t,e){t.exports=require(\"prop-types\")},function(t,e){t.exports=require(\"react-bootstrap/FormControl\")},function(t,e){t.exports=require(\"time-number\")}]);","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _class, _temp2;\n\nexports.confirmAlert = confirmAlert;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _client = require('react-dom/client');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ReactConfirmAlert = (_temp2 = _class = function (_Component) {\n  _inherits(ReactConfirmAlert, _Component);\n\n  function ReactConfirmAlert() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, ReactConfirmAlert);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = ReactConfirmAlert.__proto__ || Object.getPrototypeOf(ReactConfirmAlert)).call.apply(_ref, [this].concat(args))), _this), _this.handleClickButton = function (button) {\n      if (button.onClick) button.onClick();\n      _this.close();\n    }, _this.handleClickOverlay = function (e) {\n      var _this$props = _this.props,\n          closeOnClickOutside = _this$props.closeOnClickOutside,\n          onClickOutside = _this$props.onClickOutside;\n\n      var isClickOutside = e.target === _this.overlay;\n\n      if (closeOnClickOutside && isClickOutside) {\n        onClickOutside();\n        _this.close();\n      }\n\n      e.stopPropagation();\n    }, _this.close = function () {\n      var afterClose = _this.props.afterClose;\n\n      removeBodyClass();\n      removeElementReconfirm(_this.props);\n      removeSVGBlurReconfirm(afterClose);\n    }, _this.keyboard = function (event) {\n      var _this$props2 = _this.props,\n          closeOnEscape = _this$props2.closeOnEscape,\n          onKeypressEscape = _this$props2.onKeypressEscape,\n          onkeyPress = _this$props2.onkeyPress,\n          keyCodeForClose = _this$props2.keyCodeForClose;\n\n      var keyCode = event.keyCode;\n      var isKeyCodeEscape = keyCode === 27;\n\n      if (keyCodeForClose.includes(keyCode)) {\n        _this.close();\n      }\n\n      if (closeOnEscape && isKeyCodeEscape) {\n        onKeypressEscape(event);\n        _this.close();\n      }\n\n      if (onkeyPress) {\n        onkeyPress();\n      }\n    }, _this.componentDidMount = function () {\n      document.addEventListener('keydown', _this.keyboard, false);\n    }, _this.componentWillUnmount = function () {\n      document.removeEventListener('keydown', _this.keyboard, false);\n      _this.props.willUnmount();\n    }, _this.renderCustomUI = function () {\n      var _this$props3 = _this.props,\n          title = _this$props3.title,\n          message = _this$props3.message,\n          buttons = _this$props3.buttons,\n          customUI = _this$props3.customUI;\n\n      var dataCustomUI = {\n        title: title,\n        message: message,\n        buttons: buttons,\n        onClose: _this.close\n      };\n\n      return customUI(dataCustomUI);\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(ReactConfirmAlert, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          title = _props.title,\n          message = _props.message,\n          buttons = _props.buttons,\n          childrenElement = _props.childrenElement,\n          customUI = _props.customUI,\n          overlayClassName = _props.overlayClassName;\n\n\n      return _react2.default.createElement(\n        'div',\n        {\n          className: 'react-confirm-alert-overlay ' + overlayClassName,\n          ref: function ref(dom) {\n            return _this2.overlay = dom;\n          },\n          onClick: this.handleClickOverlay\n        },\n        _react2.default.createElement(\n          'div',\n          { className: 'react-confirm-alert' },\n          customUI ? this.renderCustomUI() : _react2.default.createElement(\n            'div',\n            { className: 'react-confirm-alert-body' },\n            title && _react2.default.createElement(\n              'h1',\n              null,\n              title\n            ),\n            message,\n            childrenElement(),\n            _react2.default.createElement(\n              'div',\n              { className: 'react-confirm-alert-button-group' },\n              buttons.map(function (button, i) {\n                return _react2.default.createElement(\n                  'button',\n                  _extends({\n                    key: i,\n                    className: button.className\n                  }, button, {\n                    onClick: function onClick(e) {\n                      return _this2.handleClickButton(button);\n                    }\n                  }),\n                  button.label\n                );\n              })\n            )\n          )\n        )\n      );\n    }\n  }]);\n\n  return ReactConfirmAlert;\n}(_react.Component), _class.propTypes = {\n  title: _propTypes2.default.string,\n  message: _propTypes2.default.string,\n  buttons: _propTypes2.default.array.isRequired,\n  childrenElement: _propTypes2.default.func,\n  customUI: _propTypes2.default.func,\n  closeOnClickOutside: _propTypes2.default.bool,\n  closeOnEscape: _propTypes2.default.bool,\n  keyCodeForClose: _propTypes2.default.arrayOf(_propTypes2.default.number),\n  willUnmount: _propTypes2.default.func,\n  afterClose: _propTypes2.default.func,\n  onClickOutside: _propTypes2.default.func,\n  onKeypressEscape: _propTypes2.default.func,\n  onkeyPress: _propTypes2.default.func,\n  overlayClassName: _propTypes2.default.string\n}, _class.defaultProps = {\n  buttons: [{\n    label: 'Cancel',\n    onClick: function onClick() {\n      return null;\n    },\n    className: null\n  }, {\n    label: 'Confirm',\n    onClick: function onClick() {\n      return null;\n    },\n    className: null\n  }],\n  childrenElement: function childrenElement() {\n    return null;\n  },\n  closeOnClickOutside: true,\n  closeOnEscape: true,\n  keyCodeForClose: [],\n  willUnmount: function willUnmount() {\n    return null;\n  },\n  afterClose: function afterClose() {\n    return null;\n  },\n  onClickOutside: function onClickOutside() {\n    return null;\n  },\n  onKeypressEscape: function onKeypressEscape() {\n    return null;\n  }\n}, _temp2);\nexports.default = ReactConfirmAlert;\n\n\nvar root = null;\nvar targetId = 'react-confirm-alert';\n\nfunction createSVGBlurReconfirm() {\n  // If has svg ignore to create the svg\n  var svg = document.getElementById('react-confirm-alert-firm-svg');\n  if (svg) return;\n  var svgNS = 'http://www.w3.org/2000/svg';\n  var feGaussianBlur = document.createElementNS(svgNS, 'feGaussianBlur');\n  feGaussianBlur.setAttribute('stdDeviation', '0.3');\n\n  var filter = document.createElementNS(svgNS, 'filter');\n  filter.setAttribute('id', 'gaussian-blur');\n  filter.appendChild(feGaussianBlur);\n\n  var svgElem = document.createElementNS(svgNS, 'svg');\n  svgElem.setAttribute('id', 'react-confirm-alert-firm-svg');\n  svgElem.setAttribute('class', 'react-confirm-alert-svg');\n  svgElem.appendChild(filter);\n\n  document.body.appendChild(svgElem);\n}\n\nfunction removeSVGBlurReconfirm(afterClose) {\n  var svg = document.getElementById('react-confirm-alert-firm-svg');\n  if (svg) {\n    svg.parentNode.removeChild(svg);\n  }\n  document.body.children[0].classList.remove('react-confirm-alert-blur');\n  afterClose();\n}\n\nfunction createElementReconfirm(properties) {\n  var divTarget = document.getElementById(properties.targetId || targetId);\n\n  if (properties.targetId && !divTarget) {\n    console.error('React Confirm Alert:', 'Can not get element id (#' + properties.targetId + ')');\n  }\n\n  if (divTarget) {\n    root = (0, _client.createRoot)(divTarget);\n    root.render(_react2.default.createElement(ReactConfirmAlert, properties));\n  } else {\n    document.body.children[0].classList.add('react-confirm-alert-blur');\n    divTarget = document.createElement('div');\n    divTarget.id = targetId;\n    document.body.appendChild(divTarget);\n    root = (0, _client.createRoot)(divTarget);\n    root.render(_react2.default.createElement(ReactConfirmAlert, properties));\n  }\n}\n\nfunction removeElementReconfirm(properties) {\n  var target = document.getElementById(properties.targetId || targetId);\n  if (target) {\n    root.unmount(target);\n  }\n}\n\nfunction addBodyClass() {\n  document.body.classList.add('react-confirm-alert-body-element');\n}\n\nfunction removeBodyClass() {\n  document.body.classList.remove('react-confirm-alert-body-element');\n}\n\nfunction confirmAlert(properties) {\n  addBodyClass();\n  createSVGBlurReconfirm();\n  createElementReconfirm(properties);\n}","module.exports=function(e){function r(n){if(t[n])return t[n].exports;var o=t[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var t={};return r.m=e,r.c=t,r.p=\"\",r(0)}([function(e,r,t){e.exports=t(1)},function(e,r){\"use strict\";function t(e){return\"time-number\"===e.message.substring(0,11)}function n(e){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,t=e.toString(),n=r-t.length,o=\"\";o.length<n;)o+=\"0\";return\"\"+o+t}function o(e,r){var t=r.validate,o=r.format,a=r.leadingZero,i=parseInt(e,10);if(t&&(i<0||i>=86400))throw new RangeError(\"time-number, timeFromInt(): rangeError, value supposed to be between 0 and 86399\");var u=Math.floor(i/3600),m=Math.floor((i-3600*u)/60),d=i-3600*u-60*m,s=null;12!==o&&\"12\"!==o||(s=u<12?\"AM\":\"PM\",0===u?u=12:u>12&&(u-=12));var f=[a?n(u):u,n(m)];d&&f.push(n(d));var l=f.join(\":\");return s?l+\" \"+s:l}function a(e){return\"boolean\"==typeof e?{validate:e}:e}function i(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={validate:!0,format:24,leadingZero:!0},i=Object.assign({},n,a(r)),u=i.validate;if(!u)return o(e,i);try{if(e-parseFloat(e,10)+1>=0)return o(e,i);throw new Error}catch(r){if(t(r))throw r;throw new Error(\"time-number, timeFromInt(): invalud value: '\"+e+\"', supposed to be number\")}}function u(e,r){for(var t=r.validate,n=e.split(\":\"),o=n.length;n.length<3;)n.push(\"0\");var a=n.map(function(e){return parseInt(e,10)});if(t){var i=a[0];if(i<0||i>23)throw new RangeError(\"time-number, timeToInt(): hours must be between 0 and 23, provided value: '\"+e+\"'\");if(o>1){var u=a[1];if(u<0||u>59)throw new RangeError(\"time-number, timeToInt(): minutes must be between 0 and 59, provided value: '\"+e+\"'\")}if(o>2){var m=a[2];if(m<0||m>59)throw new RangeError(\"time-number, timeToInt(): seconds must be between 0 and 59, provided value: '\"+e+\"'\")}}return 3600*a[0]+60*a[1]+a[2]}function m(e){if(!e||!e.match)return e;if(!e.match(/(am|pm)$/i))return e;if(e.match(/^0+:/))throw new Error(\"12h format can't have 00:30 AM, it should be 12:30 AM instead\");return e.match(/am$/i)?e.replace(/^(\\d+)/,function(e){return\"12\"===e?\"0\":e}).replace(/\\s*am$/i,\"\"):e.replace(/^(\\d+)/,function(e){return\"12\"===e?e:(parseInt(e,10)+12).toString()}).replace(/\\s*pm$/i,\"\")}function d(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={validate:!0},o=Object.assign({},n,a(r)),i=o.validate;if(!i){var d=m(e);return u(d,o)}try{var s=m(e);if(!s.match(/^\\d+(:\\d+(:\\d+)?)?$/))throw new Error;return u(s,o)}catch(r){if(t(r))throw r;throw new Error(\"time-number, timeToInt(): supported formats are 'HH', 'HH:mm', 'HH:mm:ss', provided value: '\"+e+\"' doesn't match any of them\")}}Object.defineProperty(r,\"__esModule\",{value:!0}),r.timeFromInt=i,r.timeToInt=d}]);"],"names":["Roaster","props","viewPerPatient","e","setState","state","perPatient","save","basic","isEditable","selPatient","selYear","selMonth","assigns","requestblocks","length","toastr","setTimeout","console","log","axios","patient_id","year","month","assignData","then","response","data","catch","error","assignPerDay","newAssign","daysInMonth","Date","getDate","i","nurses","map","nurse","rota","date","includes","day","slice","push","nurse_name","name","nurse_short_id","_id","nurse_id","designation","level","duty_start","duty_end","hour","String","sort","a","b","total","j","rotation","multiAssign","row","selMultiDay","n","splice","multiRemove","onChangePatient","selPatientValue","target","value","onSelectPatient","val","item","key","onChangeYear","onChangeMonth","onChangeMultiDay","onChangeNurse","assign","assignIndex","onChangeDutyStart","_end","_hour","rotas","_self","parseInt","min","_start","isduplicate","assignCount","isAssign","Promise","resolve","index","rotaIndex","patients","patient","confirmAlert","title","message","buttons","label","onClick","onChangeDutyEnd","Math","abs","split","getMonth","getFullYear","forEach","json","ret","assignHour","this","user","assignColumns","assignDatas","assignPerDayDatas","monthNames","Mon","Object","keys","NoMon","values","MonthSelect","thour","holidays","holidaysPerMonth","holiday","sundaysPerMonth","firstDate","getDay","selDay","center","wrap","selector","with","width","cell","Form","_nurse_id","onChange","leaves","leave","leavedaysPerMonth","from","to","betweenDay","setDate","workingdays","Set","_nurse","className","selected","step","disabled","start","outline","floating","color","size","leave_id","patientList","patientAutoList","getTotals","md","getItemValue","items","inputProps","placeholder","renderItem","isHighlighted","style","background","borderRadius","backgroundColor","fontSize","fontFamily","onSelect","type","max","hasOwnProperty","role","rounded","columns","fixedHeader","fixedHeaderScrollHeight","conditionalRowStyles","when","Component","connect","BasicData","dispatch","getRoaster","nAllUpd","module","exports","t","r","o","l","call","m","c","d","defineProperty","configurable","enumerable","get","__esModule","default","prototype","p","s","arguments","apply","indexOf","getOwnPropertySymbols","u","propertyIsEnumerable","v","timeFromInt","match","concat","replace","toString","end","format","f","initialValue","y","O","g","h","x","I","timeToInt","P","createElement","M","filter","as","string","number","any","func","propTypes","require","_class","_temp2","_extends","source","_createClass","defineProperties","descriptor","writable","Constructor","protoProps","staticProps","properties","document","body","classList","add","getElementById","svgNS","feGaussianBlur","createElementNS","setAttribute","appendChild","svgElem","createSVGBlurReconfirm","divTarget","targetId","children","id","root","_client","createRoot","render","_react2","ReactConfirmAlert","createElementReconfirm","_react","_interopRequireDefault","_propTypes2","obj","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_Component","_ref","_temp","_this","_len","args","Array","_key","__proto__","getPrototypeOf","handleClickButton","button","close","handleClickOverlay","_this$props","closeOnClickOutside","onClickOutside","isClickOutside","overlay","stopPropagation","afterClose","removeBodyClass","removeElementReconfirm","removeSVGBlurReconfirm","keyboard","event","_this$props2","closeOnEscape","onKeypressEscape","onkeyPress","keyCodeForClose","keyCode","isKeyCodeEscape","componentDidMount","addEventListener","componentWillUnmount","removeEventListener","willUnmount","renderCustomUI","_this$props3","customUI","onClose","subClass","superClass","create","constructor","setPrototypeOf","_inherits","_this2","_props","childrenElement","overlayClassName","ref","dom","array","isRequired","bool","arrayOf","defaultProps","svg","parentNode","removeChild","remove","unmount","loaded","substring","validate","leadingZero","RangeError","floor","join","Error","parseFloat"],"sourceRoot":""}