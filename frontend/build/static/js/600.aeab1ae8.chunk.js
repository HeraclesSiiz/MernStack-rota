"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[600],{9600:function(e,t,n){n.r(t);var r=n(2982),a=n(7762),o=n(4942),s=n(1413),i=n(5671),u=n(3144),l=n(136),c=n(8505),h=n(2791),d=n(8687),f=n(3513),v=n(6367),g=n(8970),p=n(184),m=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(e){var r;(0,i.Z)(this,n),(r=t.call(this,e)).onChangeYear=function(e){r.setState((0,s.Z)((0,s.Z)({},r.state),{},{selYear:e.target.value}))},r.setDate=function(e,t){r.setState((0,s.Z)((0,s.Z)({},r.state),{},(0,o.Z)({},e,t.target.value)))},r.onChangeNurse=function(e){r.setState((0,s.Z)((0,s.Z)({},r.state),{},{selNurse:e.target.value}))},r.onChangeMonth=function(e){r.setState((0,s.Z)((0,s.Z)({},r.state),{},{selMonth:e.target.value}))},r.onChangeDesignation=function(e){r.setState((0,s.Z)((0,s.Z)({},r.state),{},{selDesignation:e.target.value}))};var a=new Date,u=a.getFullYear(),l=a.getMonth()+1>9?a.getMonth()+1:"0"+(a.getMonth()+1),c=new Date(u,l,0).getDate();return r.state={selYear:u,selMonth:"00",type:0,from:u+"-"+l+"-01",to:u+"-"+l+"-"+c,selNurse:0,selDesignation:-1},r}return(0,u.Z)(n,[{key:"componentDidMount",value:function(){}},{key:"swap",value:function(e){var t=[];for(var n in e)t[e[n]]=n;return t}},{key:"render",value:function(){var e=this,t=this.state,n=t.selYear,o=t.selMonth,s=t.from,i=t.to,u=t.selDesignation,l=t.selNurse,c=this.props.basic,h=c.monthNames,d=this.swap(h),m=Object.keys(h),w=Object.values(h),y=m.map((function(e,t){return(0,p.jsx)("option",{value:w[t],children:e})})),D=[];return n<=(new Date).getFullYear()&&c.nurses.map((function(e){var t;"0"!=l&&parseInt(e._id)!=l||function(){var o=[],u=[];c.nurses.map((function(e){e._id==l&&(o=e.leave)}));var f=[];for(t=new Date(s);t<=new Date(i);t.setDate(t.getDate()+1)){var v=t.getFullYear()+"-"+(t.getMonth()+1>9?t.getMonth()+1:"0"+(t.getMonth()+1))+"-"+(t.getDate()>9?t.getDate():"0"+t.getDate());f.push(v)}c.nurses.map((function(e){if(e._id==l){var t,r=(0,a.Z)(o);try{for(r.s();!(t=r.n()).done;)for(var s=t.value,i=new Date(s.from),c=new Date(s.to),h=i;h<=c;){var f=h.getFullYear(),v=h.getMonth()+1>9?h.getMonth()+1:"0"+(h.getMonth()+1),g=h.getDate()>9?h.getDate():"0"+h.getDate();if(f==n){var p=d[v];void 0==u[p]&&(u[p]=[]),u[p].push(f+"-"+v+"-"+g)}h.setDate(h.getDate()+1)}}catch(m){r.e(m)}finally{r.f()}}}));var g=c.holidays,p=[];g.map((function(e){var t=d[e.slice(0,2)];void 0==p[t]&&(p[t]=[]),p[t].push(n+"-"+e)}));var m=[];for(var w in d)for(var y=new Date(n,w,0).getDate(),x=new Date(n+"-"+w+"-01").getDay(),Z=x=0==x?1:7-x+1;Z<y;Z+=7){var j=Z>9?Z:"0"+Z,b=d[w];void 0==m[b]&&(m[b]=[]),m[b].push(n+"-"+w+"-"+j)}var C=function(t){var a=new Date(n,h[t],0).getDate();void 0==u[t]&&(u[t]=[]),void 0==p[t]&&(p[t]=[]),void 0==m[t]&&(m[t]=[]);var o=[].concat((0,r.Z)(u[t]),(0,r.Z)(p[t]),(0,r.Z)(m[t]));o=(0,r.Z)(new Set(o)),e.rota.map((function(n){if(n.date){var r={month:t,code:e.code,hour:n.hour,date:n.date,name:e.name,days:a,designation:0==e.level?"Registered":"Assistant",sundays:m[t].length,holidays:p[t].length,leavedays:u[t].length,workingdays:a-o.length,hours:8,totalhours:8*(a-o.length)};D.push(r)}}))};for(var M in h)C(M)}()})),(0,p.jsxs)(v.L5,{children:[(0,p.jsx)("div",{className:"pt-5 text-center text-dark",children:(0,p.jsx)("h1",{className:"mt-3",children:"(FTE)"})}),(0,p.jsxs)(v.uZ,{className:" align-items-center justify-content-center",children:[(0,p.jsx)(v.TK,{md:"2",children:(0,p.jsxs)(g.Z.Select,{"aria-label":"select",value:u,onChange:function(t){return e.onChangeDesignation(t)},children:[(0,p.jsx)("option",{value:"-1",children:"All"}),(0,p.jsx)("option",{value:"0",children:"Registered"}),(0,p.jsx)("option",{value:"1",children:"Assistant"})]})}),(0,p.jsx)(v.TK,{md:"2",children:(0,p.jsx)(g.Z.Group,{children:(0,p.jsxs)(g.Z.Select,{"aria-label":"select",value:l,onChange:function(t){return e.onChangeNurse(t)},children:[(0,p.jsx)("option",{value:"0",children:"Select Nurse"}),c.nurses.map((function(e,t){return(0,p.jsx)("option",{value:e._id,children:e.name},t)}))]})})}),(0,p.jsx)(v.TK,{md:"2",children:(0,p.jsx)(g.Z.Group,{children:(0,p.jsx)(g.Z.Control,{type:"number",value:n,placeholder:"Year",onChange:function(t){return e.onChangeYear(t)}})})}),(0,p.jsx)(v.TK,{md:"2",children:(0,p.jsxs)(g.Z.Select,{"aria-label":"select",value:o,onChange:function(t){return e.onChangeMonth(t)},children:[(0,p.jsx)("option",{value:"00",children:"Month"}),y]})})]}),(0,p.jsx)(v.ol,{children:(0,p.jsx)(f.ZP,{columns:[{name:"Emp Code",center:!0,wrap:!0,width:"100px",selector:function(e){return e.code}},{name:"Name",center:!0,wrap:!0,width:"120px",selector:function(e){return e.name}},{name:"Designation",center:!0,wrap:!0,selector:function(e){return e.designation}},{name:"Month(D)",center:!0,wrap:!0,width:"100px",selector:function(e){return e.days}},{name:"Sundays",center:!0,selector:function(e){return e.sundays}},{name:"Holidays",center:!0,wrap:!0,width:"100px",selector:function(e){return e.holidays}},{name:"Leave Days",center:!0,wrap:!0,selector:function(e){return e.leavedays}},{name:"Net Working Days",center:!0,selector:function(e){return e.workingdays}},{name:"Working(HA",center:!0,wrap:!0,width:"80px",selector:function(e){return e.totalhours}},{name:"daily Hours",center:!0,wrap:!0,selector:function(e){return e.hours}},{name:"Worked(h)",center:!0,wrap:!0,width:"80px",selector:function(e){return e.hour}},{name:"Overtime",center:!0,wrap:!0,width:"120px",selector:function(e){return e.hour-e.hours}}],data:D,fixedHeader:!0,striped:!0,fixedHeaderScrollHeight:"60vh"})})]})}}]),n}(h.Component);t.default=(0,d.$j)((function(e){return{basic:e.BasicData}}),null)(m)},7762:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(181);function a(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){u=!0,s=e},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw s}}}}}}]);
//# sourceMappingURL=600.aeab1ae8.chunk.js.map