{"version":3,"file":"static/js/319.6d689687.chunk.js","mappings":"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","sources":["pages/dtr.js","../node_modules/dom-scroll-into-view/index.js","../node_modules/dom-scroll-into-view/lib/dom-scroll-into-view.js","../node_modules/dom-scroll-into-view/lib/util.js","../node_modules/react-autocomplete/build/lib/Autocomplete.js","../node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport {Form} from 'react-bootstrap';\r\nimport { MDBContainer,MDBRow,MDBCol,MDBBtn,MDBBtnGroup } from 'mdb-react-ui-kit';\r\nimport {IoMdDownload} from 'react-icons/io'\r\nimport { CSVLink } from \"react-csv\";\r\nimport {connect} from 'react-redux'\r\nimport DataTable from 'react-data-table-component';\r\nimport Autocomplete from 'react-autocomplete';\r\n\r\nclass DTR extends Component {\r\n  constructor(props) {\r\n      super(props);\r\n      let date = new Date();\r\n      let year = date.getFullYear();\r\n      let month = date.getMonth()+1 > 9 ? date.getMonth()+1 : '0'+(date.getMonth()+1);\r\n      let day = new Date(year,month,0).getDate();\r\n      \r\n      this.state = {\r\n        type:0,\r\n        from:year+'-'+month+'-'+'01',\r\n        to:year+'-'+month+'-'+day,\r\n        selNurse:0,\r\n        selPatient:0,\r\n        selPatientValue:'',\r\n      };\r\n  }\r\n  setDate = (target,e) =>{\r\n    this.setState({\r\n      ...this.state,\r\n      [target]:e.target.value\r\n    });\r\n  }\r\n  onChangeNurse = (e) =>{\r\n    this.setState({\r\n      ...this.state,\r\n      selNurse:e.target.value\r\n    });\r\n  }\r\n\r\n  onChangePatient = (e) =>{\r\n    // console.log(e.target);\r\n    this.setState({\r\n      ...this.state,\r\n      selPatient:0,\r\n      selPatientValue:e.target.value\r\n    })\r\n  }\r\n\r\n  onSelectPatient = (val,item) =>{\r\n    this.setState({\r\n      ...this.state,\r\n      selPatient:item.key,\r\n      selPatientValue:val\r\n    })\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n  \r\n  render() {\r\n    const {basic} = this.props;\r\n    const {from,to,selNurse,selPatient,selPatientValue} = this.state;\r\n\r\n    let totalColumns = [];\r\n    let totalDatas = [];\r\n\r\n    totalColumns.push({\r\n        name: \"Date\",\r\n        center:true,\r\n        wrap:true,\r\n        sortable:true,\r\n        selector: (row) => row.date,\r\n      }\r\n      ,{\r\n        name: \"Patient\",\r\n        center:true,\r\n        wrap:true,\r\n        width:'20vw%',\r\n        sortable:true,\r\n        selector: (row) => row.patient,\r\n      }\r\n      ,{\r\n        name: \"Duty Start\",\r\n        center:true,\r\n        wrap:true,\r\n        width:'20vw',\r\n        sortable:true,\r\n        selector: (row) => row.duty_start,\r\n      }\r\n      ,{\r\n        name: \"Duty End\",\r\n        center:true,\r\n        wrap:true,\r\n        width:'20vw',\r\n        sortable:true,\r\n        selector: (row) => row.duty_end,\r\n      }\r\n      ,{\r\n        name: \"Hour\",\r\n        center:true,\r\n        wrap:true,\r\n        sortable:true,\r\n        selector: (row) => row.hour,\r\n    });\r\n\r\n    //show data per individual\r\n    let dates = [];\r\n    for (var d = new Date(from); d <= new Date(to); d.setDate(d.getDate() + 1)) {\r\n        let year = d.getFullYear();\r\n        let month = d.getMonth()+1 > 9 ? d.getMonth()+1 : '0'+(d.getMonth()+1);\r\n        let day = d.getDate() > 9 ? d.getDate() : '0'+d.getDate();\r\n        let dateFormat = year+'-'+month+'-'+day;\r\n        dates.push(dateFormat);\r\n      }\r\n    \r\n    let patientList = [];\r\n    let patientAutoList = [];\r\n\r\n    basic.patients.map((patient) =>{\r\n      patientList[patient._id] = patient.name;\r\n      if(patient.name.includes(selPatientValue)){\r\n        patientAutoList.push({\r\n          label:patient.name,\r\n          key:patient._id\r\n        });\r\n      }\r\n    });\r\n\r\n    let leavedays = [];\r\n    let thour = 0;\r\n    let headers = [\r\n      { label: \"Date\", key: \"date\" },\r\n      { label: \"Patient\", key: \"patient\" },\r\n      { label: \"Duty Start\", key: \"duty_start\" },\r\n      { label: \"Duty End\", key: \"duty_end\" },\r\n      { label: \"Hour\", key: \"hour\" }\r\n    ];\r\n\r\n    basic.nurses.map((nurse) =>{\r\n      if(nurse._id == selNurse){\r\n        let leaves = nurse.leave?nurse.leave:[];\r\n\r\n        for(let leave of leaves){\r\n          let leavefrom = new Date(leave.from);\r\n          let leaveto = new Date(leave.to);\r\n          for(let betweenDay = leavefrom;betweenDay <= leaveto;){\r\n            let between = betweenDay.toISOString().slice(0,10);\r\n            if(between >= from && between <= to){\r\n              leavedays.push(between);\r\n            }\r\n            betweenDay.setDate(betweenDay.getDate() + 1);\r\n          }\r\n        }\r\n\r\n        nurse.rota.map((rota)=>{\r\n          if(rota.date >= from && rota.date <= to){\r\n            if(selPatient == 0){\r\n              thour += rota.hour;\r\n              let row = {\r\n                date:rota.date,\r\n                patient:patientList[rota.patient_id],\r\n                duty_start:rota.duty_start,\r\n                duty_end:rota.duty_end,\r\n                hour:rota.hour,\r\n              }\r\n              totalDatas.push(row);\r\n            }else{\r\n              if(rota.patient_id == selPatient){\r\n                thour += rota.hour;\r\n                let row = {\r\n                  date:rota.date,\r\n                  patient:patientList[rota.patient_id],\r\n                  duty_start:rota.duty_start,\r\n                  duty_end:rota.duty_end,\r\n                  hour:rota.hour,\r\n                }\r\n                totalDatas.push(row);\r\n              }\r\n            }\r\n          }\r\n        });\r\n      }\r\n    });\r\n\r\n    if(selNurse != 0){\r\n      \r\n      let total = {\r\n        date:'Total',\r\n        hour:thour\r\n      }\r\n      totalDatas.push(total);\r\n    }\r\n\r\n    return (\r\n      <MDBContainer>\r\n        <div className=\"pt-5 text-center text-dark\">\r\n          <h1 className=\"mt-3\">DAILY TIME RECORD (DTR)</h1>\r\n        </div>\r\n        <MDBRow>\r\n          <MDBCol>\r\n              <div className=\"row lex align-items-center justify-content-center\">\r\n                <MDBCol>\r\n                  <Form.Group>\r\n                    <Form.Select aria-label=\"patient select\" value={selNurse} onChange = {(e) =>this.onChangeNurse(e)}>\r\n                      <option value=\"0\" >Select Nurse</option>\r\n                      {\r\n                        basic.nurses.map((value,index) =>{\r\n                          return <option key = {index} value={value._id}>{value.name}</option>\r\n                        })\r\n                      }\r\n                    </Form.Select>\r\n                  </Form.Group>\r\n                </MDBCol>\r\n                <MDBCol className='autocomplete'>\r\n                  <Autocomplete\r\n                    getItemValue={(item) => item.label}\r\n                    items={patientAutoList}\r\n                    renderItem={(item, isHighlighted) =>\r\n                      <div style={{ background: isHighlighted ? 'lightgray' : 'white' }}>\r\n                        {item.label}\r\n                      </div>\r\n                    }\r\n                    value={selPatientValue}\r\n                    onChange={(e) => this.onChangePatient(e)}\r\n                    onSelect={(val,item) =>this.onSelectPatient(val,item)}\r\n                  />\r\n                </MDBCol>\r\n                <MDBCol>\r\n                  <Form.Group>\r\n                    <Form.Control type=\"date\" value={from} max={to}  onChange = {(e) =>this.setDate('from',e)} />\r\n                  </Form.Group>\r\n                </MDBCol>\r\n                <MDBCol>\r\n                  <Form.Group>\r\n                    <Form.Control type=\"date\" value={to} min={from}  onChange = {(e) =>this.setDate('to',e)}/>\r\n                  </Form.Group>\r\n                </MDBCol>\r\n                <MDBCol>\r\n                  <CSVLink\r\n                    headers={headers}\r\n                    data={totalDatas}\r\n                    filename={\"dtr.csv\"}\r\n                    className=\"btn btn-success \"\r\n                    target=\"_blank\"\r\n                    >\r\n                    <IoMdDownload />Export \r\n                  </CSVLink>\r\n              </MDBCol>\r\n            </div>\r\n            <div className='p-2'>\r\n              <DataTable \r\n                columns={totalColumns} \r\n                data={totalDatas}\r\n                striped\r\n                fixedHeader\r\n                fixedHeaderScrollHeight={'60vh'}\r\n                />\r\n            </div>\r\n          </MDBCol>\r\n        </MDBRow>\r\n      </MDBContainer>\r\n    );\r\n  };\r\n}\r\n\r\nconst mapStateToProps = (BasicData) => ({\r\n  basic:BasicData.BasicData\r\n});\r\nexport default connect(mapStateToProps,null)(DTR)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","module.exports = require('./lib/dom-scroll-into-view');\n","var util = require('./util');\n\nfunction scrollIntoView(elem, container, config) {\n  config = config || {};\n  // document 归一化到 window\n  if (container.nodeType === 9) {\n    container = util.getWindow(container);\n  }\n\n  var allowHorizontalScroll = config.allowHorizontalScroll;\n  var onlyScrollIfNeeded = config.onlyScrollIfNeeded;\n  var alignWithTop = config.alignWithTop;\n  var alignWithLeft = config.alignWithLeft;\n\n  allowHorizontalScroll = allowHorizontalScroll === undefined ? true : allowHorizontalScroll;\n\n  var isWin = util.isWindow(container);\n  var elemOffset = util.offset(elem);\n  var eh = util.outerHeight(elem);\n  var ew = util.outerWidth(elem);\n  var containerOffset, ch, cw, containerScroll,\n    diffTop, diffBottom, win,\n    winScroll, ww, wh;\n\n  if (isWin) {\n    win = container;\n    wh = util.height(win);\n    ww = util.width(win);\n    winScroll = {\n      left: util.scrollLeft(win),\n      top: util.scrollTop(win)\n    };\n    // elem 相对 container 可视视窗的距离\n    diffTop = {\n      left: elemOffset.left - winScroll.left,\n      top: elemOffset.top - winScroll.top\n    };\n    diffBottom = {\n      left: elemOffset.left + ew - (winScroll.left + ww),\n      top: elemOffset.top + eh - (winScroll.top + wh)\n    };\n    containerScroll = winScroll;\n  } else {\n    containerOffset = util.offset(container);\n    ch = container.clientHeight;\n    cw = container.clientWidth;\n    containerScroll = {\n      left: container.scrollLeft,\n      top: container.scrollTop\n    };\n    // elem 相对 container 可视视窗的距离\n    // 注意边框, offset 是边框到根节点\n    diffTop = {\n      left: elemOffset.left - (containerOffset.left +\n      (parseFloat(util.css(container, 'borderLeftWidth')) || 0)),\n      top: elemOffset.top - (containerOffset.top +\n      (parseFloat(util.css(container, 'borderTopWidth')) || 0))\n    };\n    diffBottom = {\n      left: elemOffset.left + ew -\n      (containerOffset.left + cw +\n      (parseFloat(util.css(container, 'borderRightWidth')) || 0)),\n      top: elemOffset.top + eh -\n      (containerOffset.top + ch +\n      (parseFloat(util.css(container, 'borderBottomWidth')) || 0))\n    };\n  }\n\n  if (diffTop.top < 0 || diffBottom.top > 0) {\n    // 强制向上\n    if (alignWithTop === true) {\n      util.scrollTop(container, containerScroll.top + diffTop.top);\n    } else if (alignWithTop === false) {\n      util.scrollTop(container, containerScroll.top + diffBottom.top);\n    } else {\n      // 自动调整\n      if (diffTop.top < 0) {\n        util.scrollTop(container, containerScroll.top + diffTop.top);\n      } else {\n        util.scrollTop(container, containerScroll.top + diffBottom.top);\n      }\n    }\n  } else {\n    if (!onlyScrollIfNeeded) {\n      alignWithTop = alignWithTop === undefined ? true : !!alignWithTop;\n      if (alignWithTop) {\n        util.scrollTop(container, containerScroll.top + diffTop.top);\n      } else {\n        util.scrollTop(container, containerScroll.top + diffBottom.top);\n      }\n    }\n  }\n\n  if (allowHorizontalScroll) {\n    if (diffTop.left < 0 || diffBottom.left > 0) {\n      // 强制向上\n      if (alignWithLeft === true) {\n        util.scrollLeft(container, containerScroll.left + diffTop.left);\n      } else if (alignWithLeft === false) {\n        util.scrollLeft(container, containerScroll.left + diffBottom.left);\n      } else {\n        // 自动调整\n        if (diffTop.left < 0) {\n          util.scrollLeft(container, containerScroll.left + diffTop.left);\n        } else {\n          util.scrollLeft(container, containerScroll.left + diffBottom.left);\n        }\n      }\n    } else {\n      if (!onlyScrollIfNeeded) {\n        alignWithLeft = alignWithLeft === undefined ? true : !!alignWithLeft;\n        if (alignWithLeft) {\n          util.scrollLeft(container, containerScroll.left + diffTop.left);\n        } else {\n          util.scrollLeft(container, containerScroll.left + diffBottom.left);\n        }\n      }\n    }\n  }\n}\n\nmodule.exports = scrollIntoView;\n","var RE_NUM = /[\\-+]?(?:\\d*\\.|)\\d+(?:[eE][\\-+]?\\d+|)/.source;\n\nfunction getClientPosition(elem) {\n  var box, x, y;\n  var doc = elem.ownerDocument;\n  var body = doc.body;\n  var docElem = doc && doc.documentElement;\n  // 根据 GBS 最新数据，A-Grade Browsers 都已支持 getBoundingClientRect 方法，不用再考虑传统的实现方式\n  box = elem.getBoundingClientRect();\n\n  // 注：jQuery 还考虑减去 docElem.clientLeft/clientTop\n  // 但测试发现，这样反而会导致当 html 和 body 有边距/边框样式时，获取的值不正确\n  // 此外，ie6 会忽略 html 的 margin 值，幸运地是没有谁会去设置 html 的 margin\n\n  x = box.left;\n  y = box.top;\n\n  // In IE, most of the time, 2 extra pixels are added to the top and left\n  // due to the implicit 2-pixel inset border.  In IE6/7 quirks mode and\n  // IE6 standards mode, this border can be overridden by setting the\n  // document element's border to zero -- thus, we cannot rely on the\n  // offset always being 2 pixels.\n\n  // In quirks mode, the offset can be determined by querying the body's\n  // clientLeft/clientTop, but in standards mode, it is found by querying\n  // the document element's clientLeft/clientTop.  Since we already called\n  // getClientBoundingRect we have already forced a reflow, so it is not\n  // too expensive just to query them all.\n\n  // ie 下应该减去窗口的边框吧，毕竟默认 absolute 都是相对窗口定位的\n  // 窗口边框标准是设 documentElement ,quirks 时设置 body\n  // 最好禁止在 body 和 html 上边框 ，但 ie < 9 html 默认有 2px ，减去\n  // 但是非 ie 不可能设置窗口边框，body html 也不是窗口 ,ie 可以通过 html,body 设置\n  // 标准 ie 下 docElem.clientTop 就是 border-top\n  // ie7 html 即窗口边框改变不了。永远为 2\n  // 但标准 firefox/chrome/ie9 下 docElem.clientTop 是窗口边框，即使设了 border-top 也为 0\n\n  x -= docElem.clientLeft || body.clientLeft || 0;\n  y -= docElem.clientTop || body.clientTop || 0;\n\n  return {left: x, top: y};\n}\n\nfunction getScroll(w, top) {\n  var ret = w['page' + (top ? 'Y' : 'X') + 'Offset'];\n  var method = 'scroll' + (top ? 'Top' : 'Left');\n  if (typeof ret !== 'number') {\n    var d = w.document;\n    //ie6,7,8 standard mode\n    ret = d.documentElement[method];\n    if (typeof ret !== 'number') {\n      //quirks mode\n      ret = d.body[method];\n    }\n  }\n  return ret;\n}\n\nfunction getScrollLeft(w) {\n  return getScroll(w);\n}\n\nfunction getScrollTop(w) {\n  return getScroll(w, true);\n}\n\nfunction getOffset(el) {\n  var pos = getClientPosition(el);\n  var doc = el.ownerDocument;\n  var w = doc.defaultView || doc.parentWindow;\n  pos.left += getScrollLeft(w);\n  pos.top += getScrollTop(w);\n  return pos;\n}\nfunction _getComputedStyle(elem, name, computedStyle) {\n  var val = '';\n  var d = elem.ownerDocument;\n\n  // https://github.com/kissyteam/kissy/issues/61\n  if ((computedStyle = (computedStyle || d.defaultView.getComputedStyle(elem, null)))) {\n    val = computedStyle.getPropertyValue(name) || computedStyle[name];\n  }\n\n  return val;\n}\n\nvar _RE_NUM_NO_PX = new RegExp('^(' + RE_NUM + ')(?!px)[a-z%]+$', 'i');\nvar RE_POS = /^(top|right|bottom|left)$/,\n  CURRENT_STYLE = 'currentStyle',\n  RUNTIME_STYLE = 'runtimeStyle',\n  LEFT = 'left',\n  PX = 'px';\n\nfunction _getComputedStyleIE(elem, name) {\n  // currentStyle maybe null\n  // http://msdn.microsoft.com/en-us/library/ms535231.aspx\n  var ret = elem[CURRENT_STYLE] && elem[CURRENT_STYLE][name];\n\n  // 当 width/height 设置为百分比时，通过 pixelLeft 方式转换的 width/height 值\n  // 一开始就处理了! CUSTOM_STYLE.height,CUSTOM_STYLE.width ,cssHook 解决@2011-08-19\n  // 在 ie 下不对，需要直接用 offset 方式\n  // borderWidth 等值也有问题，但考虑到 borderWidth 设为百分比的概率很小，这里就不考虑了\n\n  // From the awesome hack by Dean Edwards\n  // http://erik.eae.net/archives/2007/07/27/18.54.15/#comment-102291\n  // If we're not dealing with a regular pixel number\n  // but a number that has a weird ending, we need to convert it to pixels\n  // exclude left right for relativity\n  if (_RE_NUM_NO_PX.test(ret) && !RE_POS.test(name)) {\n    // Remember the original values\n    var style = elem.style,\n      left = style[LEFT],\n      rsLeft = elem[RUNTIME_STYLE][LEFT];\n\n    // prevent flashing of content\n    elem[RUNTIME_STYLE][LEFT] = elem[CURRENT_STYLE][LEFT];\n\n    // Put in the new values to get a computed value out\n    style[LEFT] = name === 'fontSize' ? '1em' : (ret || 0);\n    ret = style.pixelLeft + PX;\n\n    // Revert the changed values\n    style[LEFT] = left;\n\n    elem[RUNTIME_STYLE][LEFT] = rsLeft;\n  }\n  return ret === '' ? 'auto' : ret;\n}\n\nvar getComputedStyleX;\nif (typeof window !== 'undefined') {\n  getComputedStyleX = window.getComputedStyle ? _getComputedStyle : _getComputedStyleIE;\n}\n\n// 设置 elem 相对 elem.ownerDocument 的坐标\nfunction setOffset(elem, offset) {\n  // set position first, in-case top/left are set even on static elem\n  if (css(elem, 'position') === 'static') {\n    elem.style.position = 'relative';\n  }\n\n  var old = getOffset(elem),\n    ret = {},\n    current, key;\n\n  for (key in offset) {\n    current = parseFloat(css(elem, key)) || 0;\n    ret[key] = current + offset[key] - old[key];\n  }\n  css(elem, ret);\n}\n\nfunction each(arr, fn) {\n  for (var i = 0; i < arr.length; i++) {\n    fn(arr[i]);\n  }\n}\n\nfunction isBorderBoxFn(elem) {\n  return getComputedStyleX(elem, 'boxSizing') === 'border-box';\n}\n\nvar BOX_MODELS = ['margin', 'border', 'padding'],\n  CONTENT_INDEX = -1,\n  PADDING_INDEX = 2,\n  BORDER_INDEX = 1,\n  MARGIN_INDEX = 0;\n\nfunction swap(elem, options, callback) {\n  var old = {},\n    style = elem.style,\n    name;\n\n  // Remember the old values, and insert the new ones\n  for (name in options) {\n    old[name] = style[name];\n    style[name] = options[name];\n  }\n\n  callback.call(elem);\n\n  // Revert the old values\n  for (name in options) {\n    style[name] = old[name];\n  }\n}\n\nfunction getPBMWidth(elem, props, which) {\n  var value = 0, prop, j, i;\n  for (j = 0; j < props.length; j++) {\n    prop = props[j];\n    if (prop) {\n      for (i = 0; i < which.length; i++) {\n        var cssProp;\n        if (prop === 'border') {\n          cssProp = prop + which[i] + 'Width';\n        } else {\n          cssProp = prop + which[i];\n        }\n        value += parseFloat(getComputedStyleX(elem, cssProp)) || 0;\n      }\n    }\n  }\n  return value;\n}\n\n/**\n * A crude way of determining if an object is a window\n * @member util\n */\nfunction isWindow(obj) {\n  // must use == for ie8\n  /*jshint eqeqeq:false*/\n  return obj != null && obj == obj.window;\n}\n\nvar domUtils = {};\n\neach(['Width', 'Height'], function (name) {\n  domUtils['doc' + name] = function (refWin) {\n    var d = refWin.document;\n    return Math.max(\n      //firefox chrome documentElement.scrollHeight< body.scrollHeight\n      //ie standard mode : documentElement.scrollHeight> body.scrollHeight\n      d.documentElement['scroll' + name],\n      //quirks : documentElement.scrollHeight 最大等于可视窗口多一点？\n      d.body['scroll' + name],\n      domUtils['viewport' + name](d));\n  };\n\n  domUtils['viewport' + name] = function (win) {\n    // pc browser includes scrollbar in window.innerWidth\n    var prop = 'client' + name,\n      doc = win.document,\n      body = doc.body,\n      documentElement = doc.documentElement,\n      documentElementProp = documentElement[prop];\n    // 标准模式取 documentElement\n    // backcompat 取 body\n    return doc.compatMode === 'CSS1Compat' && documentElementProp ||\n      body && body[prop] || documentElementProp;\n  };\n});\n\n/*\n 得到元素的大小信息\n @param elem\n @param name\n @param {String} [extra]  'padding' : (css width) + padding\n 'border' : (css width) + padding + border\n 'margin' : (css width) + padding + border + margin\n */\nfunction getWH(elem, name, extra) {\n  if (isWindow(elem)) {\n    return name === 'width' ? domUtils.viewportWidth(elem) : domUtils.viewportHeight(elem);\n  } else if (elem.nodeType === 9) {\n    return name === 'width' ? domUtils.docWidth(elem) : domUtils.docHeight(elem);\n  }\n  var which = name === 'width' ? ['Left', 'Right'] : ['Top', 'Bottom'],\n    borderBoxValue = name === 'width' ? elem.offsetWidth : elem.offsetHeight;\n  var computedStyle = getComputedStyleX(elem);\n  var isBorderBox = isBorderBoxFn(elem, computedStyle);\n  var cssBoxValue = 0;\n  if (borderBoxValue == null || borderBoxValue <= 0) {\n    borderBoxValue = undefined;\n    // Fall back to computed then un computed css if necessary\n    cssBoxValue = getComputedStyleX(elem, name);\n    if (cssBoxValue == null || (Number(cssBoxValue)) < 0) {\n      cssBoxValue = elem.style[name] || 0;\n    }\n    // Normalize '', auto, and prepare for extra\n    cssBoxValue = parseFloat(cssBoxValue) || 0;\n  }\n  if (extra === undefined) {\n    extra = isBorderBox ? BORDER_INDEX : CONTENT_INDEX;\n  }\n  var borderBoxValueOrIsBorderBox = borderBoxValue !== undefined || isBorderBox;\n  var val = borderBoxValue || cssBoxValue;\n  if (extra === CONTENT_INDEX) {\n    if (borderBoxValueOrIsBorderBox) {\n      return val - getPBMWidth(elem, ['border', 'padding'],\n          which, computedStyle);\n    } else {\n      return cssBoxValue;\n    }\n  } else if (borderBoxValueOrIsBorderBox) {\n    return val + (extra === BORDER_INDEX ? 0 :\n        (extra === PADDING_INDEX ?\n          -getPBMWidth(elem, ['border'], which, computedStyle) :\n          getPBMWidth(elem, ['margin'], which, computedStyle)));\n  } else {\n    return cssBoxValue + getPBMWidth(elem, BOX_MODELS.slice(extra),\n        which, computedStyle);\n  }\n}\n\nvar cssShow = {position: 'absolute', visibility: 'hidden', display: 'block'};\n\n// fix #119 : https://github.com/kissyteam/kissy/issues/119\nfunction getWHIgnoreDisplay(elem) {\n  var val, args = arguments;\n  // in case elem is window\n  // elem.offsetWidth === undefined\n  if (elem.offsetWidth !== 0) {\n    val = getWH.apply(undefined, args);\n  } else {\n    swap(elem, cssShow, function () {\n      val = getWH.apply(undefined, args);\n    });\n  }\n  return val;\n}\n\neach(['width', 'height'], function (name) {\n  var first = name.charAt(0).toUpperCase() + name.slice(1);\n  domUtils['outer' + first] = function (el, includeMargin) {\n    return el && getWHIgnoreDisplay(el, name, includeMargin ? MARGIN_INDEX : BORDER_INDEX);\n  };\n  var which = name === 'width' ? ['Left', 'Right'] : ['Top', 'Bottom'];\n\n  domUtils[name] = function (elem, val) {\n    if (val !== undefined) {\n      if (elem) {\n        var computedStyle = getComputedStyleX(elem);\n        var isBorderBox = isBorderBoxFn(elem);\n        if (isBorderBox) {\n          val += getPBMWidth(elem, ['padding', 'border'], which, computedStyle);\n        }\n        return css(elem, name, val);\n      }\n      return;\n    }\n    return elem && getWHIgnoreDisplay(elem, name, CONTENT_INDEX);\n  };\n});\n\nfunction css(el, name, value) {\n  if (typeof name === 'object') {\n    for (var i in name) {\n      css(el, i, name[i]);\n    }\n    return;\n  }\n  if (typeof value !== 'undefined') {\n    if (typeof value === 'number') {\n      value = value + 'px';\n    }\n    el.style[name] = value;\n  } else {\n    return getComputedStyleX(el, name);\n  }\n}\n\nfunction mix(to, from) {\n  for (var i in from) {\n    to[i] = from[i];\n  }\n  return to;\n}\n\nvar utils = module.exports = {\n  getWindow: function (node) {\n    var doc = node.ownerDocument || node;\n    return doc.defaultView || doc.parentWindow;\n  },\n  offset: function (el, value) {\n    if (typeof value !== 'undefined') {\n      setOffset(el, value);\n    } else {\n      return getOffset(el);\n    }\n  },\n  isWindow: isWindow,\n  each: each,\n  css: css,\n  clone: function (obj) {\n    var ret = {};\n    for (var i in obj) {\n      ret[i] = obj[i];\n    }\n    var overflow = obj.overflow;\n    if (overflow) {\n      for (i in obj) {\n        ret.overflow[i] = obj.overflow[i];\n      }\n    }\n    return ret;\n  },\n  mix: mix,\n  scrollLeft: function (w, v) {\n    if (isWindow(w)) {\n      if (v === undefined) {\n        return getScrollLeft(w);\n      } else {\n        window.scrollTo(v, getScrollTop(w));\n      }\n    } else {\n      if (v === undefined) {\n        return w.scrollLeft;\n      } else {\n        w.scrollLeft = v;\n      }\n    }\n  },\n  scrollTop: function (w, v) {\n    if (isWindow(w)) {\n      if (v === undefined) {\n        return getScrollTop(w);\n      } else {\n        window.scrollTo(getScrollLeft(w), v);\n      }\n    } else {\n      if (v === undefined) {\n        return w.scrollTop;\n      } else {\n        w.scrollTop = v;\n      }\n    }\n  },\n  merge: function () {\n    var ret = {};\n    for (var i = 0; i < arguments.length; i++) {\n      utils.mix(ret, arguments[i]);\n    }\n    return ret;\n  },\n  viewportWidth: 0,\n  viewportHeight: 0\n};\n\nmix(utils, domUtils);\n","'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar React = require('react');\nvar PropTypes = require('prop-types');\n\nvar _require = require('react-dom'),\n    findDOMNode = _require.findDOMNode;\n\nvar scrollIntoView = require('dom-scroll-into-view');\n\nvar IMPERATIVE_API = ['blur', 'checkValidity', 'click', 'focus', 'select', 'setCustomValidity', 'setSelectionRange', 'setRangeText'];\n\nfunction getScrollOffset() {\n  return {\n    x: window.pageXOffset !== undefined ? window.pageXOffset : (document.documentElement || document.body.parentNode || document.body).scrollLeft,\n    y: window.pageYOffset !== undefined ? window.pageYOffset : (document.documentElement || document.body.parentNode || document.body).scrollTop\n  };\n}\n\nvar Autocomplete = function (_React$Component) {\n  _inherits(Autocomplete, _React$Component);\n\n  function Autocomplete(props) {\n    _classCallCheck(this, Autocomplete);\n\n    var _this = _possibleConstructorReturn(this, (Autocomplete.__proto__ || Object.getPrototypeOf(Autocomplete)).call(this, props));\n\n    _this.state = {\n      isOpen: false,\n      highlightedIndex: null\n    };\n    _this._debugStates = [];\n    _this.ensureHighlightedIndex = _this.ensureHighlightedIndex.bind(_this);\n    _this.exposeAPI = _this.exposeAPI.bind(_this);\n    _this.handleInputFocus = _this.handleInputFocus.bind(_this);\n    _this.handleInputBlur = _this.handleInputBlur.bind(_this);\n    _this.handleChange = _this.handleChange.bind(_this);\n    _this.handleKeyDown = _this.handleKeyDown.bind(_this);\n    _this.handleInputClick = _this.handleInputClick.bind(_this);\n    _this.maybeAutoCompleteText = _this.maybeAutoCompleteText.bind(_this);\n    return _this;\n  }\n\n  _createClass(Autocomplete, [{\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      // this.refs is frozen, so we need to assign a new object to it\n      this.refs = {};\n      this._ignoreBlur = false;\n      this._ignoreFocus = false;\n      this._scrollOffset = null;\n      this._scrollTimer = null;\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      clearTimeout(this._scrollTimer);\n      this._scrollTimer = null;\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if (this.state.highlightedIndex !== null) {\n        this.setState(this.ensureHighlightedIndex);\n      }\n      if (nextProps.autoHighlight && (this.props.value !== nextProps.value || this.state.highlightedIndex === null)) {\n        this.setState(this.maybeAutoCompleteText);\n      }\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      if (this.isOpen()) {\n        this.setMenuPositions();\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (this.state.isOpen && !prevState.isOpen || 'open' in this.props && this.props.open && !prevProps.open) this.setMenuPositions();\n\n      this.maybeScrollItemIntoView();\n      if (prevState.isOpen !== this.state.isOpen) {\n        this.props.onMenuVisibilityChange(this.state.isOpen);\n      }\n    }\n  }, {\n    key: 'exposeAPI',\n    value: function exposeAPI(el) {\n      var _this2 = this;\n\n      this.refs.input = el;\n      IMPERATIVE_API.forEach(function (ev) {\n        return _this2[ev] = el && el[ev] && el[ev].bind(el);\n      });\n    }\n  }, {\n    key: 'maybeScrollItemIntoView',\n    value: function maybeScrollItemIntoView() {\n      if (this.isOpen() && this.state.highlightedIndex !== null) {\n        var itemNode = this.refs['item-' + this.state.highlightedIndex];\n        var menuNode = this.refs.menu;\n        scrollIntoView(findDOMNode(itemNode), findDOMNode(menuNode), { onlyScrollIfNeeded: true });\n      }\n    }\n  }, {\n    key: 'handleKeyDown',\n    value: function handleKeyDown(event) {\n      if (Autocomplete.keyDownHandlers[event.key]) Autocomplete.keyDownHandlers[event.key].call(this, event);else if (!this.isOpen()) {\n        this.setState({\n          isOpen: true\n        });\n      }\n    }\n  }, {\n    key: 'handleChange',\n    value: function handleChange(event) {\n      this.props.onChange(event, event.target.value);\n    }\n  }, {\n    key: 'getFilteredItems',\n    value: function getFilteredItems(props) {\n      var items = props.items;\n\n      if (props.shouldItemRender) {\n        items = items.filter(function (item) {\n          return props.shouldItemRender(item, props.value);\n        });\n      }\n\n      if (props.sortItems) {\n        items.sort(function (a, b) {\n          return props.sortItems(a, b, props.value);\n        });\n      }\n\n      return items;\n    }\n  }, {\n    key: 'maybeAutoCompleteText',\n    value: function maybeAutoCompleteText(state, props) {\n      var highlightedIndex = state.highlightedIndex;\n      var value = props.value,\n          getItemValue = props.getItemValue;\n\n      var index = highlightedIndex === null ? 0 : highlightedIndex;\n      var items = this.getFilteredItems(props);\n      for (var i = 0; i < items.length; i++) {\n        if (props.isItemSelectable(items[index])) break;\n        index = (index + 1) % items.length;\n      }\n      var matchedItem = items[index] && props.isItemSelectable(items[index]) ? items[index] : null;\n      if (value !== '' && matchedItem) {\n        var itemValue = getItemValue(matchedItem);\n        var itemValueDoesMatch = itemValue.toLowerCase().indexOf(value.toLowerCase()) === 0;\n        if (itemValueDoesMatch) {\n          return { highlightedIndex: index };\n        }\n      }\n      return { highlightedIndex: null };\n    }\n  }, {\n    key: 'ensureHighlightedIndex',\n    value: function ensureHighlightedIndex(state, props) {\n      if (state.highlightedIndex >= this.getFilteredItems(props).length) {\n        return { highlightedIndex: null };\n      }\n    }\n  }, {\n    key: 'setMenuPositions',\n    value: function setMenuPositions() {\n      var node = this.refs.input;\n      var rect = node.getBoundingClientRect();\n      var computedStyle = global.window.getComputedStyle(node);\n      var marginBottom = parseInt(computedStyle.marginBottom, 10) || 0;\n      var marginLeft = parseInt(computedStyle.marginLeft, 10) || 0;\n      var marginRight = parseInt(computedStyle.marginRight, 10) || 0;\n      this.setState({\n        menuTop: rect.bottom + marginBottom,\n        menuLeft: rect.left + marginLeft,\n        menuWidth: rect.width + marginLeft + marginRight\n      });\n    }\n  }, {\n    key: 'highlightItemFromMouse',\n    value: function highlightItemFromMouse(index) {\n      this.setState({ highlightedIndex: index });\n    }\n  }, {\n    key: 'selectItemFromMouse',\n    value: function selectItemFromMouse(item) {\n      var _this3 = this;\n\n      var value = this.props.getItemValue(item);\n      // The menu will de-render before a mouseLeave event\n      // happens. Clear the flag to release control over focus\n      this.setIgnoreBlur(false);\n      this.setState({\n        isOpen: false,\n        highlightedIndex: null\n      }, function () {\n        _this3.props.onSelect(value, item);\n      });\n    }\n  }, {\n    key: 'setIgnoreBlur',\n    value: function setIgnoreBlur(ignore) {\n      this._ignoreBlur = ignore;\n    }\n  }, {\n    key: 'renderMenu',\n    value: function renderMenu() {\n      var _this4 = this;\n\n      var items = this.getFilteredItems(this.props).map(function (item, index) {\n        var element = _this4.props.renderItem(item, _this4.state.highlightedIndex === index, { cursor: 'default' });\n        return React.cloneElement(element, {\n          onMouseEnter: _this4.props.isItemSelectable(item) ? function () {\n            return _this4.highlightItemFromMouse(index);\n          } : null,\n          onClick: _this4.props.isItemSelectable(item) ? function () {\n            return _this4.selectItemFromMouse(item);\n          } : null,\n          ref: function ref(e) {\n            return _this4.refs['item-' + index] = e;\n          }\n        });\n      });\n      var style = {\n        left: this.state.menuLeft,\n        top: this.state.menuTop,\n        minWidth: this.state.menuWidth\n      };\n      var menu = this.props.renderMenu(items, this.props.value, style);\n      return React.cloneElement(menu, {\n        ref: function ref(e) {\n          return _this4.refs.menu = e;\n        },\n        // Ignore blur to prevent menu from de-rendering before we can process click\n        onTouchStart: function onTouchStart() {\n          return _this4.setIgnoreBlur(true);\n        },\n        onMouseEnter: function onMouseEnter() {\n          return _this4.setIgnoreBlur(true);\n        },\n        onMouseLeave: function onMouseLeave() {\n          return _this4.setIgnoreBlur(false);\n        }\n      });\n    }\n  }, {\n    key: 'handleInputBlur',\n    value: function handleInputBlur(event) {\n      var _this5 = this;\n\n      if (this._ignoreBlur) {\n        this._ignoreFocus = true;\n        this._scrollOffset = getScrollOffset();\n        this.refs.input.focus();\n        return;\n      }\n      var setStateCallback = void 0;\n      var highlightedIndex = this.state.highlightedIndex;\n\n      if (this.props.selectOnBlur && highlightedIndex !== null) {\n        var items = this.getFilteredItems(this.props);\n        var item = items[highlightedIndex];\n        var value = this.props.getItemValue(item);\n        setStateCallback = function setStateCallback() {\n          return _this5.props.onSelect(value, item);\n        };\n      }\n      this.setState({\n        isOpen: false,\n        highlightedIndex: null\n      }, setStateCallback);\n      var onBlur = this.props.inputProps.onBlur;\n\n      if (onBlur) {\n        onBlur(event);\n      }\n    }\n  }, {\n    key: 'handleInputFocus',\n    value: function handleInputFocus(event) {\n      var _this6 = this;\n\n      if (this._ignoreFocus) {\n        this._ignoreFocus = false;\n        var _scrollOffset = this._scrollOffset,\n            x = _scrollOffset.x,\n            y = _scrollOffset.y;\n\n        this._scrollOffset = null;\n        // Focus will cause the browser to scroll the <input> into view.\n        // This can cause the mouse coords to change, which in turn\n        // could cause a new highlight to happen, cancelling the click\n        // event (when selecting with the mouse)\n        window.scrollTo(x, y);\n        // Some browsers wait until all focus event handlers have been\n        // processed before scrolling the <input> into view, so let's\n        // scroll again on the next tick to ensure we're back to where\n        // the user was before focus was lost. We could do the deferred\n        // scroll only, but that causes a jarring split second jump in\n        // some browsers that scroll before the focus event handlers\n        // are triggered.\n        clearTimeout(this._scrollTimer);\n        this._scrollTimer = setTimeout(function () {\n          _this6._scrollTimer = null;\n          window.scrollTo(x, y);\n        }, 0);\n        return;\n      }\n      this.setState({ isOpen: true });\n      var onFocus = this.props.inputProps.onFocus;\n\n      if (onFocus) {\n        onFocus(event);\n      }\n    }\n  }, {\n    key: 'isInputFocused',\n    value: function isInputFocused() {\n      var el = this.refs.input;\n      return el.ownerDocument && el === el.ownerDocument.activeElement;\n    }\n  }, {\n    key: 'handleInputClick',\n    value: function handleInputClick() {\n      // Input will not be focused if it's disabled\n      if (this.isInputFocused() && !this.isOpen()) this.setState({ isOpen: true });\n    }\n  }, {\n    key: 'composeEventHandlers',\n    value: function composeEventHandlers(internal, external) {\n      return external ? function (e) {\n        internal(e);external(e);\n      } : internal;\n    }\n  }, {\n    key: 'isOpen',\n    value: function isOpen() {\n      return 'open' in this.props ? this.props.open : this.state.isOpen;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      if (this.props.debug) {\n        // you don't like it, you love it\n        this._debugStates.push({\n          id: this._debugStates.length,\n          state: this.state\n        });\n      }\n\n      var inputProps = this.props.inputProps;\n\n      var open = this.isOpen();\n      return React.createElement(\n        'div',\n        _extends({ style: _extends({}, this.props.wrapperStyle) }, this.props.wrapperProps),\n        this.props.renderInput(_extends({}, inputProps, {\n          role: 'combobox',\n          'aria-autocomplete': 'list',\n          'aria-expanded': open,\n          autoComplete: 'off',\n          ref: this.exposeAPI,\n          onFocus: this.handleInputFocus,\n          onBlur: this.handleInputBlur,\n          onChange: this.handleChange,\n          onKeyDown: this.composeEventHandlers(this.handleKeyDown, inputProps.onKeyDown),\n          onClick: this.composeEventHandlers(this.handleInputClick, inputProps.onClick),\n          value: this.props.value\n        })),\n        open && this.renderMenu(),\n        this.props.debug && React.createElement(\n          'pre',\n          { style: { marginLeft: 300 } },\n          JSON.stringify(this._debugStates.slice(Math.max(0, this._debugStates.length - 5), this._debugStates.length), null, 2)\n        )\n      );\n    }\n  }]);\n\n  return Autocomplete;\n}(React.Component);\n\nAutocomplete.propTypes = {\n  /**\n   * The items to display in the dropdown menu\n   */\n  items: PropTypes.array.isRequired,\n  /**\n   * The value to display in the input field\n   */\n  value: PropTypes.any,\n  /**\n   * Arguments: `event: Event, value: String`\n   *\n   * Invoked every time the user changes the input's value.\n   */\n  onChange: PropTypes.func,\n  /**\n   * Arguments: `value: String, item: Any`\n   *\n   * Invoked when the user selects an item from the dropdown menu.\n   */\n  onSelect: PropTypes.func,\n  /**\n   * Arguments: `item: Any, value: String`\n   *\n   * Invoked for each entry in `items` and its return value is used to\n   * determine whether or not it should be displayed in the dropdown menu.\n   * By default all items are always rendered.\n   */\n  shouldItemRender: PropTypes.func,\n  /**\n   * Arguments: `item: Any`\n   *\n   * Invoked when attempting to select an item. The return value is used to\n   * determine whether the item should be selectable or not.\n   * By default all items are selectable.\n   */\n  isItemSelectable: PropTypes.func,\n  /**\n   * Arguments: `itemA: Any, itemB: Any, value: String`\n   *\n   * The function which is used to sort `items` before display.\n   */\n  sortItems: PropTypes.func,\n  /**\n   * Arguments: `item: Any`\n   *\n   * Used to read the display value from each entry in `items`.\n   */\n  getItemValue: PropTypes.func.isRequired,\n  /**\n   * Arguments: `item: Any, isHighlighted: Boolean, styles: Object`\n   *\n   * Invoked for each entry in `items` that also passes `shouldItemRender` to\n   * generate the render tree for each item in the dropdown menu. `styles` is\n   * an optional set of styles that can be applied to improve the look/feel\n   * of the items in the dropdown menu.\n   */\n  renderItem: PropTypes.func.isRequired,\n  /**\n   * Arguments: `items: Array<Any>, value: String, styles: Object`\n   *\n   * Invoked to generate the render tree for the dropdown menu. Ensure the\n   * returned tree includes every entry in `items` or else the highlight order\n   * and keyboard navigation logic will break. `styles` will contain\n   * { top, left, minWidth } which are the coordinates of the top-left corner\n   * and the width of the dropdown menu.\n   */\n  renderMenu: PropTypes.func,\n  /**\n   * Styles that are applied to the dropdown menu in the default `renderMenu`\n   * implementation. If you override `renderMenu` and you want to use\n   * `menuStyle` you must manually apply them (`this.props.menuStyle`).\n   */\n  menuStyle: PropTypes.object,\n  /**\n   * Arguments: `props: Object`\n   *\n   * Invoked to generate the input element. The `props` argument is the result\n   * of merging `props.inputProps` with a selection of props that are required\n   * both for functionality and accessibility. At the very least you need to\n   * apply `props.ref` and all `props.on<event>` event handlers. Failing to do\n   * this will cause `Autocomplete` to behave unexpectedly.\n   */\n  renderInput: PropTypes.func,\n  /**\n   * Props passed to `props.renderInput`. By default these props will be\n   * applied to the `<input />` element rendered by `Autocomplete`, unless you\n   * have specified a custom value for `props.renderInput`. Any properties\n   * supported by `HTMLInputElement` can be specified, apart from the\n   * following which are set by `Autocomplete`: value, autoComplete, role,\n   * aria-autocomplete. `inputProps` is commonly used for (but not limited to)\n   * placeholder, event handlers (onFocus, onBlur, etc.), autoFocus, etc..\n   */\n  inputProps: PropTypes.object,\n  /**\n   * Props that are applied to the element which wraps the `<input />` and\n   * dropdown menu elements rendered by `Autocomplete`.\n   */\n  wrapperProps: PropTypes.object,\n  /**\n   * This is a shorthand for `wrapperProps={{ style: <your styles> }}`.\n   * Note that `wrapperStyle` is applied before `wrapperProps`, so the latter\n   * will win if it contains a `style` entry.\n   */\n  wrapperStyle: PropTypes.object,\n  /**\n   * Whether or not to automatically highlight the top match in the dropdown\n   * menu.\n   */\n  autoHighlight: PropTypes.bool,\n  /**\n   * Whether or not to automatically select the highlighted item when the\n   * `<input>` loses focus.\n   */\n  selectOnBlur: PropTypes.bool,\n  /**\n   * Arguments: `isOpen: Boolean`\n   *\n   * Invoked every time the dropdown menu's visibility changes (i.e. every\n   * time it is displayed/hidden).\n   */\n  onMenuVisibilityChange: PropTypes.func,\n  /**\n   * Used to override the internal logic which displays/hides the dropdown\n   * menu. This is useful if you want to force a certain state based on your\n   * UX/business logic. Use it together with `onMenuVisibilityChange` for\n   * fine-grained control over the dropdown menu dynamics.\n   */\n  open: PropTypes.bool,\n  debug: PropTypes.bool\n};\nAutocomplete.defaultProps = {\n  value: '',\n  wrapperProps: {},\n  wrapperStyle: {\n    display: 'inline-block'\n  },\n  inputProps: {},\n  renderInput: function renderInput(props) {\n    return React.createElement('input', props);\n  },\n  onChange: function onChange() {},\n  onSelect: function onSelect() {},\n  isItemSelectable: function isItemSelectable() {\n    return true;\n  },\n  renderMenu: function renderMenu(items, value, style) {\n    return React.createElement('div', { style: _extends({}, style, this.menuStyle), children: items });\n  },\n\n  menuStyle: {\n    borderRadius: '3px',\n    boxShadow: '0 2px 12px rgba(0, 0, 0, 0.1)',\n    background: 'rgba(255, 255, 255, 0.9)',\n    padding: '2px 0',\n    fontSize: '90%',\n    position: 'fixed',\n    overflow: 'auto',\n    maxHeight: '50%' },\n  autoHighlight: true,\n  selectOnBlur: false,\n  onMenuVisibilityChange: function onMenuVisibilityChange() {}\n};\nAutocomplete.keyDownHandlers = {\n  ArrowDown: function ArrowDown(event) {\n    event.preventDefault();\n    var items = this.getFilteredItems(this.props);\n    if (!items.length) return;\n    var highlightedIndex = this.state.highlightedIndex;\n\n    var index = highlightedIndex === null ? -1 : highlightedIndex;\n    for (var i = 0; i < items.length; i++) {\n      var p = (index + i + 1) % items.length;\n      if (this.props.isItemSelectable(items[p])) {\n        index = p;\n        break;\n      }\n    }\n    if (index > -1 && index !== highlightedIndex) {\n      this.setState({\n        highlightedIndex: index,\n        isOpen: true\n      });\n    }\n  },\n  ArrowUp: function ArrowUp(event) {\n    event.preventDefault();\n    var items = this.getFilteredItems(this.props);\n    if (!items.length) return;\n    var highlightedIndex = this.state.highlightedIndex;\n\n    var index = highlightedIndex === null ? items.length : highlightedIndex;\n    for (var i = 0; i < items.length; i++) {\n      var p = (index - (1 + i) + items.length) % items.length;\n      if (this.props.isItemSelectable(items[p])) {\n        index = p;\n        break;\n      }\n    }\n    if (index !== items.length) {\n      this.setState({\n        highlightedIndex: index,\n        isOpen: true\n      });\n    }\n  },\n  Enter: function Enter(event) {\n    var _this7 = this;\n\n    // Key code 229 is used for selecting items from character selectors (Pinyin, Kana, etc)\n    if (event.keyCode !== 13) return;\n    // In case the user is currently hovering over the menu\n    this.setIgnoreBlur(false);\n    if (!this.isOpen()) {\n      // menu is closed so there is no selection to accept -> do nothing\n      return;\n    } else if (this.state.highlightedIndex == null) {\n      // input has focus but no menu item is selected + enter is hit -> close the menu, highlight whatever's in input\n      this.setState({\n        isOpen: false\n      }, function () {\n        _this7.refs.input.select();\n      });\n    } else {\n      // text entered + menu item has been highlighted + enter is hit -> update value to that of selected menu item, close the menu\n      event.preventDefault();\n      var item = this.getFilteredItems(this.props)[this.state.highlightedIndex];\n      var value = this.props.getItemValue(item);\n      this.setState({\n        isOpen: false,\n        highlightedIndex: null\n      }, function () {\n        //this.refs.input.focus() // TODO: file issue\n        _this7.refs.input.setSelectionRange(value.length, value.length);\n        _this7.props.onSelect(value, item);\n      });\n    }\n  },\n  Escape: function Escape() {\n    // In case the user is currently hovering over the menu\n    this.setIgnoreBlur(false);\n    this.setState({\n      highlightedIndex: null,\n      isOpen: false\n    });\n  },\n  Tab: function Tab() {\n    // In case the user is currently hovering over the menu\n    this.setIgnoreBlur(false);\n  }\n};\n\n\nmodule.exports = Autocomplete;","import unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}"],"names":["DTR","props","setDate","target","e","setState","state","value","onChangeNurse","selNurse","onChangePatient","selPatient","selPatientValue","onSelectPatient","val","item","key","date","Date","year","getFullYear","month","getMonth","day","getDate","type","from","to","basic","this","totalColumns","totalDatas","push","name","center","wrap","sortable","selector","row","width","patient","duty_start","duty_end","hour","dates","d","dateFormat","patientList","patientAutoList","patients","map","_id","includes","label","leavedays","thour","nurses","nurse","leaves","leave","leavefrom","leaveto","betweenDay","between","toISOString","slice","rota","patient_id","total","className","onChange","index","getItemValue","items","renderItem","isHighlighted","style","background","onSelect","max","min","CSVLink","headers","data","filename","columns","striped","fixedHeader","fixedHeaderScrollHeight","Component","connect","BasicData","module","exports","util","require","elem","container","config","nodeType","getWindow","allowHorizontalScroll","onlyScrollIfNeeded","alignWithTop","alignWithLeft","undefined","containerOffset","ch","cw","containerScroll","diffTop","diffBottom","win","winScroll","ww","wh","isWin","isWindow","elemOffset","offset","eh","outerHeight","ew","outerWidth","height","left","scrollLeft","top","scrollTop","clientHeight","clientWidth","parseFloat","css","getScroll","w","ret","method","document","documentElement","body","getScrollLeft","getScrollTop","getOffset","el","pos","box","x","y","doc","ownerDocument","docElem","getBoundingClientRect","clientLeft","clientTop","getClientPosition","defaultView","parentWindow","getComputedStyleX","_RE_NUM_NO_PX","RegExp","source","RE_POS","each","arr","fn","i","length","isBorderBoxFn","window","getComputedStyle","computedStyle","getPropertyValue","test","rsLeft","pixelLeft","BOX_MODELS","swap","options","callback","old","call","getPBMWidth","which","prop","j","cssProp","obj","domUtils","getWH","extra","viewportWidth","viewportHeight","docWidth","docHeight","borderBoxValue","offsetWidth","offsetHeight","isBorderBox","cssBoxValue","Number","borderBoxValueOrIsBorderBox","refWin","Math","documentElementProp","compatMode","cssShow","position","visibility","display","getWHIgnoreDisplay","args","arguments","apply","mix","first","charAt","toUpperCase","includeMargin","utils","node","current","setOffset","clone","overflow","v","scrollTo","merge","_extends","Object","assign","prototype","hasOwnProperty","_createClass","defineProperties","descriptor","enumerable","configurable","writable","defineProperty","Constructor","protoProps","staticProps","React","PropTypes","findDOMNode","scrollIntoView","IMPERATIVE_API","Autocomplete","_React$Component","instance","TypeError","_classCallCheck","_this","self","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","isOpen","highlightedIndex","_debugStates","ensureHighlightedIndex","bind","exposeAPI","handleInputFocus","handleInputBlur","handleChange","handleKeyDown","handleInputClick","maybeAutoCompleteText","subClass","superClass","create","constructor","setPrototypeOf","_inherits","refs","_ignoreBlur","_ignoreFocus","_scrollOffset","_scrollTimer","clearTimeout","nextProps","autoHighlight","setMenuPositions","prevProps","prevState","open","maybeScrollItemIntoView","onMenuVisibilityChange","_this2","input","forEach","ev","itemNode","menuNode","menu","event","keyDownHandlers","shouldItemRender","filter","sortItems","sort","a","b","getFilteredItems","isItemSelectable","matchedItem","toLowerCase","indexOf","rect","global","marginBottom","parseInt","marginLeft","marginRight","menuTop","bottom","menuLeft","menuWidth","_this3","setIgnoreBlur","ignore","_this4","element","cursor","cloneElement","onMouseEnter","highlightItemFromMouse","onClick","selectItemFromMouse","ref","minWidth","renderMenu","onTouchStart","onMouseLeave","_this5","pageXOffset","parentNode","pageYOffset","focus","setStateCallback","selectOnBlur","onBlur","inputProps","_this6","setTimeout","onFocus","activeElement","isInputFocused","internal","external","debug","id","createElement","wrapperStyle","wrapperProps","renderInput","role","autoComplete","onKeyDown","composeEventHandlers","JSON","stringify","propTypes","array","isRequired","any","func","menuStyle","object","bool","defaultProps","children","borderRadius","boxShadow","padding","fontSize","maxHeight","ArrowDown","preventDefault","p","ArrowUp","Enter","_this7","keyCode","select","setSelectionRange","Escape","Tab","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","F","s","n","done","_e","f","err","normalCompletion","didErr","step","next","_e2"],"sourceRoot":""}