(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[851],{9851:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Z}});var r=n(7762),a=n(2982),o=n(1413),i=n(5671),s=n(3144),u=n(7326),l=n(136),c=n(3668),d=n(2791),f=n(4569),p=n.n(f),m=n(8970),h=n(6367),v=n(3513),y=n(8687),g=n(337),_=n(8339),b=n.n(_),w=n(6355),C=n(7392),N=n(5828),x=n.n(N),j=(n(2831),n(8492)),A=n.n(j),E=n(184),k=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(e){var r;(0,i.Z)(this,n),(r=t.call(this,e)).viewPerPatient=function(e){r.setState((0,o.Z)((0,o.Z)({},r.state),{},{perPatient:!r.state.perPatient}))},r.save=function(){var e=r.props.basic,t=r.state,n=t.isEditable,i=t.selPatient,s=t.selYear,u=t.selMonth,l=t.assigns;if(n){if(r.setState((0,o.Z)((0,o.Z)({},r.state),{},{isEditable:!1})),0!==r.props.basic.requestblocks.length)return x().clear(),void setTimeout((function(){return x().warning("This item cannot be requested! Please wait until approver approve the transfer request.")}),300);console.log(l),p().post("rota/assign",{patient_id:i,year:s,month:u,assignData:l}).then((function(e){"error"==e.data.state&&(x().clear(),setTimeout((function(){return x().info("roaster edit request error!")}),3e3))})).catch((function(e){}))}else{var c=[],d=[],f=[],m=s+"-"+u,h=new Date(s,u,0).getDate();if(0!==i){for(var v=0;v<h;v++)d[v+1]=0;e.nurses.map((function(e){e.rota.map((function(t){if(t.patient_id==i&&t.date.includes(m)){var n=1*t.date.slice(8);d[n]++,c.push({date:t.date,day:n,nurse_name:e.name,nurse_short_id:e._id.slice(20),nurse_id:e._id,designation:0==e.level?"Registered":"Assistant",duty_start:t.duty_start,duty_end:t.duty_end,hour:t.hour})}}))}));for(var y=0;y<h;y++)0==d[1*(y+1)]&&(d[1*(y+1)]=1,f.date=m+"-"+(y<9?0+String(y+1):y+1),f.day=1*(y+1),f.nurse_name="NA",f.nurse_short_id="NA",f.nurse_id="NA",f.designation="NA",f.duty_start="NA",f.duty_end="NA",f.hour="NA",c=[].concat((0,a.Z)(c),[(0,o.Z)({},f)]));c.sort((function(e,t){return e.date>t.date?1:t.date>e.date?-1:e.duty_start>t.duty_start?1:t.duty_start>e.duty_start?-1:0}));var g=0;for(var _ in d)for(var b=1;b<=d[_];b++)c[g].rotation=b,g++;r.setState((0,o.Z)((0,o.Z)({},r.state),{},{isEditable:!0,assigns:(0,a.Z)(c),assignPerDay:[].concat(d)}))}}},r.multiAssign=function(e,t){var n=r.state,i=n.selYear,s=n.selMonth,u=n.assigns,l=n.assignPerDay,c=t.day,d=i+"-"+s,f={};f.date=d+"-"+(c<9?0+String(c):c),f.day=c,f.rotation=l[c]+1,f.nurse_name="NA",f.nurse_name="NA",f.nurse_short_id="NA",f.nurse_id="NA",f.designation="NA",f.duty_start="NA",f.duty_end="NA",f.hour="NA";var p=0;l[c]++;for(var m=1;m<1*c+1;m++)p+=l[m];u.splice(p-1,0,f),u.splice(-1),r.setState((0,o.Z)((0,o.Z)({},r.state),{},{assigns:(0,a.Z)(u),assignPerDay:(0,a.Z)(l)}))},r.multiRemove=function(e,t){for(var n=r.state,i=n.assigns,s=n.assignPerDay,u=t.day,l=0,c=1;c<u;c++)l+=s[c];if(1==s[u])i[l].nurse_name="NA",i[l].nurse_short_id="NA",i[l].nurse_id="NA",i[l].designation="NA",i[l].duty_start="NA",i[l].duty_end="NA",i[l].hour="NA",i.splice(-1),r.setState((0,o.Z)((0,o.Z)({},r.state),{},{assigns:(0,a.Z)(i)}));else{for(var d=0;d<s[u];d++)d==t.rotation-1?i.splice(l+d,1):d>=t.rotation&&i[l+d-1].rotation--;s[u]--,i.splice(-1),r.setState((0,o.Z)((0,o.Z)({},r.state),{},{assigns:(0,a.Z)(i),assignPerDay:(0,a.Z)(s)}))}},r.onChangePatient=function(e){r.setState((0,o.Z)((0,o.Z)({},r.state),{},{selPatient:0,selPatientValue:e.target.value}))},r.onSelectPatient=function(e,t){r.setState((0,o.Z)((0,o.Z)({},r.state),{},{selPatient:t.key,selPatientValue:e}))},r.onChangeYear=function(e){r.setState((0,o.Z)((0,o.Z)({},r.state),{},{selYear:e.target.value,isEditable:!1}))},r.onChangeMonth=function(e){r.setState((0,o.Z)((0,o.Z)({},r.state),{},{selMonth:e.target.value,isEditable:!1}))},r.onChangeMultiDay=function(e){r.setState((0,o.Z)((0,o.Z)({},r.state),{},{selMultiDay:e.target.value}))},r.onChangeNurse=function(e,t){var n=r.props.basic,i=r.state.assigns;i.map((function(r,a){r.day==t.day&&r.rotation==t.rotation&&n.nurses.map((function(t){t._id==e.target.value&&(i[a].nurse_name=t.name,i[a].nurse_id=t._id,i[a].nurse_short_id=t._id.slice(20),i[a].designation=0==t.level?"Registered":"Assistant")}))})),i.splice(-1),r.setState((0,o.Z)((0,o.Z)({},r.state),{},{assigns:(0,a.Z)(i)}))},r.onChangeDutyStart=function(e,t){var n,i,s,l=r.props.basic,c=r.state,d=c.assigns,f=c.selPatient,p=(0,u.Z)(r),m=parseInt(e/3600)>9?parseInt(e/3600):"0"+parseInt(e/3600),h=e%3600==0?"00":"30",v=m+":"+h;m>=12?(n="23:30",i=23-m):(n=m+12+":"+h,i=12);var y=!1,_=d.length,b=!1;new Promise((function(e){d.map((function(n,r){n.rotation!==t.rotation&&n.date==t.date&&n.duty_start<v&&n.duty_end>v&&(b=!0,x().info("Already Assign Hour in rotation"+n.rotation+"!")),r==_-1&&0==b&&e()}))})).then((function(){return new Promise((function(e){l.nurses.map((function(n){n._id==t.nurse_id&&(0==(s=n.rota.length)&&e(),n.rota.map((function(n,r){n.date==t.date&&n.duty_start<v&&n.duty_end>v&&(y=!0,l.patients.map((function(t){n.patient_id!=f&&n.patient_id==t._id&&(0,g._1)({title:"Duplicate Time",message:"Nurse is allocated for "+n.duty_start+" to "+n.duty_end+" to "+t.name+". You want to overwrite?",buttons:[{label:"Yes",onClick:function(){e()}},{label:"No",onClick:function(){}}]})}))),r==s-1&&0==y&&e()})))}))})).then((function(){d.map((function(e,r){e.day==t.day&&e.rotation==t.rotation&&l.nurses.map((function(e){e._id==t.nurse_id&&(d[r].duty_start=v,d[r].duty_end=n,d[r].hour=i)}))})),d.splice(-1),p.setState((0,o.Z)((0,o.Z)({},p.state),{},{assigns:(0,a.Z)(d)}))}))}))},r.onChangeDutyEnd=function(e,t){var n,i=r.props.basic,s=r.state,l=s.assigns,c=s.selPatient,d=(0,u.Z)(r),f=(parseInt(e/3600)>9?parseInt(e/3600):"0"+parseInt(e/3600))+":"+(e%3600==0?"00":"30"),p=!1,m=l.length,h=!1;new Promise((function(e){l.map((function(n,r){n.rotation!==t.rotation&&n.date==t.date&&"NA"!=n.duty_start&&"NA"!=n.duty_end&&n.duty_start<f&&n.duty_end>t.duty_start&&(h=!0,x().info("Already Assign Hour in rotation"+n.rotation+"!")),r==m-1&&0==h&&e()}))})).then((function(){return new Promise((function(e){i.nurses.map((function(r){r._id==t.nurse_id&&(0==(n=r.rota.length)&&e(),r.rota.map((function(r,a){r.date==t.date&&r.duty_end>t.duty_start&&r.duty_start<f&&i.patients.map((function(t){r.patient_id!=c&&r.patient_id==t._id&&(p=!0,(0,g._1)({title:"Duplicate Time",message:"Nurse is allocated for "+r.duty_start+" to "+r.duty_end+" to "+t.name+". You want to overwrite?",buttons:[{label:"Yes",onClick:function(){e()}},{label:"No",onClick:function(){}}]}))})),a==n-1&&0==p&&e()})))}))})).then((function(){l.map((function(e,n){e.day==t.day&&e.rotation==t.rotation&&i.nurses.map((function(e){e._id==t.nurse_id&&(l[n].duty_end=f,"NA"!=l[n].duty_end&&(l[n].hour=Math.abs(l[n].duty_end.split(":")[0]-l[n].duty_start.split(":")[0])))}))})),l.splice(-1),d.setState((0,o.Z)((0,o.Z)({},d.state),{},{assigns:(0,a.Z)(l)}))}))}))};var s=(new Date).getMonth()-1?(new Date).getMonth()+1:"0"+((new Date).getMonth()+1);return r.state={isEditable:!1,selPatient:0,selPatientValue:"",perPatient:!1,selYear:(new Date).getFullYear(),selMonth:s,assigns:[],assignPerDay:[]},r}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){}},{key:"getTotals",value:function(e,t){var n=0;return e.forEach((function(e){n+=e[t]?e[t]:0})),n}},{key:"swap",value:function(e){var t=[];for(var n in e)t[e[n]]=n;return t}},{key:"render",value:function(){var e,t=this,n=this.props.basic,i=this.props.basic.user,s=this.state,u=s.selPatient,l=s.selPatientValue,c=s.selYear,d=s.selMonth,f=s.isEditable,p=s.assigns,y=s.assignPerDay,g=[],_=[],C=[],N=[],x=c+"-"+d,j=new Date(c,d,0).getDate(),k=n.monthNames,Z=Object.keys(k),P=Object.values(k),O=Z.map((function(e,t){return(0,E.jsx)("option",{value:P[t],children:e},t)})),D=0,I=n.holidays,S=[];I.map((function(e){e.slice(0,2)==d&&S.push(c+"-"+e)}));for(var T=[],M=new Date(c+"-"+d+"-01").getDay(),R=M=0==M?1:7-M+1;R<j;R+=7){var Y=R>9?R:"0"+R;T.push(x+"-"+Y)}if(f)g=[{name:"Date",center:!0,wrap:!0,selector:function(e){return e.date}},{name:"Emp ID",center:!0,wrap:!0,with:"80px",selector:function(e){return e.nurse_short_id}},{name:"Emp Name",center:!0,wrap:!0,width:"200px",cell:function(o){return"Total"!==o.date&&(0,E.jsxs)(m.Z.Select,{"aria-label":"patient select",value:o._nurse_id,onChange:function(e){return t.onChangeNurse(e,o)},children:[(0,E.jsx)("option",{value:"0",children:"Select Nurse"}),n.nurses.map((function(t,i){var s,l=t.leave?t.leave:[],f=[],m=(0,r.Z)(l);try{for(m.s();!(s=m.n()).done;)for(var h=s.value,v=new Date(h.from),y=new Date(h.to),g=v;g<=y;){var _=g.getFullYear(),b=g.getDate()>9?g.getDate():"0"+g.getDate();_==c&&g.getMonth()+1==parseInt(d)&&f.push(x+"-"+b),g.setDate(g.getDate()+1)}}catch(C){m.e(C)}finally{m.f()}var w=[].concat(f,S,T);return w=(0,a.Z)(new Set(w)),e=8*(j-w.length),n.nurses.map((function(n,r){n._id==t._id&&n.rota.map((function(t){t.date.includes(x)&&t.patient_id!=u&&(e-=t.hour)}))})),p.map((function(n){n.nurse_id==t._id&&"NA"!=n.hour&&(e-=n.hour)})),(0,E.jsxs)("option",{value:t._id,className:"assign",selected:t._id==o.nurse_id?"selected":"",children:[t.name,"("+e+")"]},i)}))]})}},{name:"Designation",center:!0,wrap:!0,width:"100px",selector:function(e){return e.designation}},{name:"Duty Start",center:!0,wrap:!0,width:"140px",cell:function(e){return"Total"!==e.date&&(0,E.jsx)(b(),{step:30,value:"NA"==e.duty_start?"12:00":e.duty_start,disabled:"NA"==e.nurse_id?"disabled":"",onChange:function(n){return t.onChangeDutyStart(n,e)}})}},{name:"Duty End",center:!0,wrap:!0,width:"140px",selector:function(e){return"Total"!==e.date&&(0,E.jsx)(b(),{start:"NA"==e.duty_start?"00:00":e.duty_start,step:30,value:"NA"==e.duty_end?"12:00":e.duty_end,disabled:"NA"==e.duty_start?"disabled":"",onChange:function(n){return t.onChangeDutyEnd(n,e)}})}},{name:"Hour",center:!0,wrap:!0,width:"80px",selector:function(e){return e.hour}},{name:"Action",center:!0,wrap:!0,width:"120px",selector:function(e){return 1==e.rotation?[(0,E.jsxs)(h.Ff,{children:[(0,E.jsx)(h.$v,{outline:!0,floating:!0,color:"success",size:"sm",onClick:function(n){return t.multiAssign(n,e)},children:(0,E.jsx)(w.wEH,{})}),(0,E.jsx)(h.$v,{outline:!0,floating:!0,color:"success",size:"sm",onClick:function(n){return t.multiRemove(n,e)},children:(0,E.jsx)(w.iFH,{})})]},e.leave_id)]:(0,E.jsx)(h.$v,{outline:!0,floating:!0,color:"success",size:"sm",onClick:function(n){return t.multiRemove(n,e)},children:(0,E.jsx)(w.iFH,{})})}}],_=p,C=y;else if(g=[{name:"Date",center:!0,wrap:!0,selector:function(e){return e.date}},{name:"Emp ID",center:!0,wrap:!0,with:"80px",selector:function(e){return e.nurse_short_id}},{name:"Emp Name",center:!0,wrap:!0,selector:function(e){return e.nurse_name}},{name:"Designation",center:!0,wrap:!0,selector:function(e){return e.designation}},{name:"Duty Start",center:!0,wrap:!0,selector:function(e){return e.duty_start}},{name:"Duty End",center:!0,wrap:!0,selector:function(e){return e.duty_end}},{name:"Hour",center:!0,wrap:!0,selector:function(e){return e.hour}}],0!=u){for(var H=0;H<j;H++)C[H+1]=0;n.nurses.map((function(e){e.rota.map((function(t){if(t.patient_id==u&&t.date.includes(x)){D+=t.hour;var n=1*t.date.slice(8);C[n]++,_.push({date:t.date,day:n,nurse_name:e.name,nurse_short_id:e._id.slice(20),nurse_id:e._id,designation:0==e.level?"Registered":"Assistant",duty_start:t.duty_start,duty_end:t.duty_end,hour:t.hour})}}))}));for(var F=0;F<j;F++)0==C[1*(F+1)]&&(C[1*(F+1)]=1,N.date=x+"-"+(F<9?0+String(F+1):F+1),N.day=1*(F+1),N.nurse_name="NA",N.nurse_short_id="NA",N.nurse_id="NA",N.designation="NA",N.duty_start="NA",N.duty_end="NA",N.hour="NA",_=[].concat((0,a.Z)(_),[(0,o.Z)({},N)]));_.sort((function(e,t){return e.date>t.date?1:t.date>e.date?-1:e.duty_start>t.duty_start?1:t.duty_start>e.duty_start?-1:0}));var U=0;for(var $ in C)for(var B=1;B<=C[$];B++)_[U].rotation=B,U++}var K=[],V=[];n.patients.map((function(e){K[e._id]=e.name,e.name.includes(l)&&V.push({label:e.name,key:e._id})}));var L={date:"Total",hour:D};for(var q in k)L[q]=this.getTotals(_,q);L.total=this.getTotals(_,"total"),_.push(L);return(0,E.jsxs)(h.L5,{children:[(0,E.jsx)("div",{className:"pt-5 text-center text-dark",children:(0,E.jsx)("h1",{className:"mt-3",children:"DUTY ROASTER"})}),(0,E.jsx)(h.uZ,{className:" align-items-center justify-content-center",children:(0,E.jsx)(h.TK,{md:"4",className:"pt-4"})}),(0,E.jsxs)(h.uZ,{className:" align-items-center justify-content-center",children:[(0,E.jsx)(h.TK,{className:"autocomplete col-md-3 ncard",children:(0,E.jsx)(A(),{getItemValue:function(e){return e.label},items:V,inputProps:{placeholder:"Select Patients"},renderItem:function(e,t){return(0,E.jsx)("div",{style:{background:t?"#2E86C1":"white",color:t?"white":"black",borderRadius:"1px",backgroundColor:"white",fontSize:"15px",fontFamily:"Arial"},children:e.label})},value:l,onChange:function(e){return t.onChangePatient(e)},onSelect:function(e,n){return t.onSelectPatient(e,n)}})}),(0,E.jsx)(h.TK,{md:"2",children:(0,E.jsx)(m.Z.Group,{children:(0,E.jsx)(m.Z.Control,{type:"number",value:c,placeholder:"Year",min:2022,max:(new Date).getFullYear(),onChange:function(e){return t.onChangeYear(e)}})})}),(0,E.jsx)(h.TK,{md:"2",children:(0,E.jsx)(m.Z.Select,{"aria-label":"select",value:d,onChange:function(e){return t.onChangeMonth(e)},children:O})}),i.hasOwnProperty("role")&&1!==i.role&&(0,E.jsx)(h.TK,{md:"2",children:(0,E.jsx)(h.$v,{outline:!0,rounded:!0,color:"success",type:"button",onClick:function(){return t.save()},children:f?"save":"edit"})})]}),(0,E.jsx)(h.uZ,{className:"p-2",children:(0,E.jsx)(v.ZP,{columns:g,data:_,fixedHeader:!0,fixedHeaderScrollHeight:"70vh",conditionalRowStyles:[{when:function(e){return 1==e.rotation},style:function(e){return{backgroundColor:e.day%2==1?"rgb(160,160,160)":"rgb(192,192,192)"}}}]})})]})}}]),n}(d.Component),Z=(0,y.$j)((function(e){return{basic:e.BasicData}}),(function(e){return{getRoaster:function(t){return e((0,C.ZY)(t))}}}))(k)},8339:function(e,t,n){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.default=r.a},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function o(e){function t(e){var t=Object(f.timeFromInt)(e,!1);if(24===u)return t;var n=t.match(/^(\d+):/),r=parseInt(n[1],10);if(0===r)return"".concat(t.replace(/^\d+/,"12")," AM");if(r<12)return"".concat(t," AM");if(12===r)return"".concat(t," PM");var a=r<22?"0".concat(r-12):(r-12).toString();return"".concat(t.replace(/^\d+/,a)," PM")}var n=e.end,o=void 0===n?"23:59":n,i=e.format,u=void 0===i?12:i,l=e.initialValue,c=void 0===l?"00:00":l,p=e.onChange,m=void 0===p?function(){}:p,h=e.start,v=void 0===h?"00:00":h,y=e.step,g=void 0===y?30:y,_=e.value,b=void 0===_?null:_,w=a(e,["end","format","initialValue","onChange","start","step","value"]),C=function(){for(var e=[],t=Object(f.timeToInt)(o,!1),n=Object(f.timeToInt)(v,!1);n<=t;n+=60*g)e.push(n);return e}().map((function(e){return{key:e,val:t(e)}})),N=C.map((function(e){var t=e.key,n=e.val;return s.a.createElement("option",{key:t,value:t},n)})),x=b||c;try{x=Object(f.timeToInt)(x)}catch(e){x=parseInt(x,10)}return C.filter((function(e){var t=e.key;return x===t})).length||(x=Object(f.timeToInt)(v)),s.a.createElement(d.a,r({as:"select",onChange:function(e){m(parseInt(e.target.value,10))},value:x},w),N)}var i=n(3),s=n.n(i),u=n(4),l=n.n(u),c=n(5),d=n.n(c),f=n(6),p=(n.n(f),{end:l.a.string,format:l.a.number,initialValue:l.a.any,onChange:l.a.func,start:l.a.string,step:l.a.number,value:l.a.any});o.propTypes=p,t.a=o},function(e,t){e.exports=n(2791)},function(e,t){e.exports=n(2007)},function(e,t){e.exports=n(4292)},function(e,t){e.exports=n(8738)}])},337:function(e,t,n){"use strict";var r,a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t._1=function(e){document.body.classList.add("react-confirm-alert-body-element"),function(){if(document.getElementById("react-confirm-alert-firm-svg"))return;var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"feGaussianBlur");t.setAttribute("stdDeviation","0.3");var n=document.createElementNS(e,"filter");n.setAttribute("id","gaussian-blur"),n.appendChild(t);var r=document.createElementNS(e,"svg");r.setAttribute("id","react-confirm-alert-firm-svg"),r.setAttribute("class","react-confirm-alert-svg"),r.appendChild(n),document.body.appendChild(r)}(),function(e){var t=document.getElementById(e.targetId||v);e.targetId&&!t&&console.error("React Confirm Alert:","Can not get element id (#"+e.targetId+")");t||(document.body.children[0].classList.add("react-confirm-alert-blur"),(t=document.createElement("div")).id=v,document.body.appendChild(t)),(h=(0,c.createRoot)(t)).render(u.default.createElement(m,e))}(e)};var s=n(2791),u=d(s),l=d(n(2007)),c=n(1250);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var m=(a=r=function(e){function t(){var e,n,r;f(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleClickButton=function(e){e.onClick&&e.onClick(),r.close()},r.handleClickOverlay=function(e){var t=r.props,n=t.closeOnClickOutside,a=t.onClickOutside,o=e.target===r.overlay;n&&o&&(a(),r.close()),e.stopPropagation()},r.close=function(){var e=r.props.afterClose;_(),g(r.props),y(e)},r.keyboard=function(e){var t=r.props,n=t.closeOnEscape,a=t.onKeypressEscape,o=t.onkeyPress,i=t.keyCodeForClose,s=e.keyCode,u=27===s;i.includes(s)&&r.close(),n&&u&&(a(e),r.close()),o&&o()},r.componentDidMount=function(){document.addEventListener("keydown",r.keyboard,!1)},r.componentWillUnmount=function(){document.removeEventListener("keydown",r.keyboard,!1),r.props.willUnmount()},r.renderCustomUI=function(){var e=r.props,t=e.title,n=e.message,a=e.buttons;return(0,e.customUI)({title:t,message:n,buttons:a,onClose:r.close})},p(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.title,r=t.message,a=t.buttons,i=t.childrenElement,s=t.customUI,l=t.overlayClassName;return u.default.createElement("div",{className:"react-confirm-alert-overlay "+l,ref:function(t){return e.overlay=t},onClick:this.handleClickOverlay},u.default.createElement("div",{className:"react-confirm-alert"},s?this.renderCustomUI():u.default.createElement("div",{className:"react-confirm-alert-body"},n&&u.default.createElement("h1",null,n),r,i(),u.default.createElement("div",{className:"react-confirm-alert-button-group"},a.map((function(t,n){return u.default.createElement("button",o({key:n,className:t.className},t,{onClick:function(n){return e.handleClickButton(t)}}),t.label)}))))))}}]),t}(s.Component),r.propTypes={title:l.default.string,message:l.default.string,buttons:l.default.array.isRequired,childrenElement:l.default.func,customUI:l.default.func,closeOnClickOutside:l.default.bool,closeOnEscape:l.default.bool,keyCodeForClose:l.default.arrayOf(l.default.number),willUnmount:l.default.func,afterClose:l.default.func,onClickOutside:l.default.func,onKeypressEscape:l.default.func,onkeyPress:l.default.func,overlayClassName:l.default.string},r.defaultProps={buttons:[{label:"Cancel",onClick:function(){return null},className:null},{label:"Confirm",onClick:function(){return null},className:null}],childrenElement:function(){return null},closeOnClickOutside:!0,closeOnEscape:!0,keyCodeForClose:[],willUnmount:function(){return null},afterClose:function(){return null},onClickOutside:function(){return null},onKeypressEscape:function(){return null}},a);var h=null,v="react-confirm-alert";function y(e){var t=document.getElementById("react-confirm-alert-firm-svg");t&&t.parentNode.removeChild(t),document.body.children[0].classList.remove("react-confirm-alert-blur"),e()}function g(e){var t=document.getElementById(e.targetId||v);t&&h.unmount(t)}function _(){document.body.classList.remove("react-confirm-alert-body-element")}},8738:function(e){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t){"use strict";function n(e){return"time-number"===e.message.substring(0,11)}function r(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=e.toString(),r=t-n.length,a="";a.length<r;)a+="0";return""+a+n}function a(e,t){var n=t.validate,a=t.format,o=t.leadingZero,i=parseInt(e,10);if(n&&(i<0||i>=86400))throw new RangeError("time-number, timeFromInt(): rangeError, value supposed to be between 0 and 86399");var s=Math.floor(i/3600),u=Math.floor((i-3600*s)/60),l=i-3600*s-60*u,c=null;12!==a&&"12"!==a||(c=s<12?"AM":"PM",0===s?s=12:s>12&&(s-=12));var d=[o?r(s):s,r(u)];l&&d.push(r(l));var f=d.join(":");return c?f+" "+c:f}function o(e){return"boolean"==typeof e?{validate:e}:e}function i(e,t){for(var n=t.validate,r=e.split(":"),a=r.length;r.length<3;)r.push("0");var o=r.map((function(e){return parseInt(e,10)}));if(n){var i=o[0];if(i<0||i>23)throw new RangeError("time-number, timeToInt(): hours must be between 0 and 23, provided value: '"+e+"'");if(a>1){var s=o[1];if(s<0||s>59)throw new RangeError("time-number, timeToInt(): minutes must be between 0 and 59, provided value: '"+e+"'")}if(a>2){var u=o[2];if(u<0||u>59)throw new RangeError("time-number, timeToInt(): seconds must be between 0 and 59, provided value: '"+e+"'")}}return 3600*o[0]+60*o[1]+o[2]}function s(e){if(!e||!e.match)return e;if(!e.match(/(am|pm)$/i))return e;if(e.match(/^0+:/))throw new Error("12h format can't have 00:30 AM, it should be 12:30 AM instead");return e.match(/am$/i)?e.replace(/^(\d+)/,(function(e){return"12"===e?"0":e})).replace(/\s*am$/i,""):e.replace(/^(\d+)/,(function(e){return"12"===e?e:(parseInt(e,10)+12).toString()})).replace(/\s*pm$/i,"")}Object.defineProperty(t,"__esModule",{value:!0}),t.timeFromInt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={validate:!0,format:24,leadingZero:!0},i=Object.assign({},r,o(t)),s=i.validate;if(!s)return a(e,i);try{if(e-parseFloat(e,10)+1>=0)return a(e,i);throw new Error}catch(t){if(n(t))throw t;throw new Error("time-number, timeFromInt(): invalud value: '"+e+"', supposed to be number")}},t.timeToInt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={validate:!0},a=Object.assign({},r,o(t)),u=a.validate;if(!u){var l=s(e);return i(l,a)}try{var c=s(e);if(!c.match(/^\d+(:\d+(:\d+)?)?$/))throw new Error;return i(c,a)}catch(t){if(n(t))throw t;throw new Error("time-number, timeToInt(): supported formats are 'HH', 'HH:mm', 'HH:mm:ss', provided value: '"+e+"' doesn't match any of them")}}}])}}]);
//# sourceMappingURL=851.6474b911.chunk.js.map