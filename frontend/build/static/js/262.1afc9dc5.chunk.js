"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[262],{7262:function(e,n,t){t.r(n);var a=t(4942),l=t(1413),r=t(5671),o=t(3144),s=t(7326),i=t(136),c=t(8505),d=t(2791),u=(t(4278),t(1122)),h=t(8970),p=t(7617),m=t(1734),x=t(5047),j=t(3053),f=t(6511),Z=t(4373),v=t(6367),g=t(3513),C=t(5828),b=t.n(C),y=(t(2831),t(6355)),w=t(7392),I=t(8687),N=t(184),k=function(e){(0,i.Z)(t,e);var n=(0,c.Z)(t);function t(e){var o;return(0,r.Z)(this,t),(o=n.call(this,e)).nurseModal=function(e,n){null!==n&&void 0!=n?o.setState({nurse:(0,l.Z)((0,l.Z)({},o.state.nurse),{},{open:e,action_id:n._id,modal:(0,l.Z)((0,l.Z)({},o.state.nurse.modal),n)})}):o.setState({nurse:(0,l.Z)((0,l.Z)({},o.state.nurse),{},{open:e,action_id:"0",modal:{}})})},o.removeNurse=function(e){var n=(0,s.Z)(o);u.Z.post("nurse/remove",{_id:e._id}).then((function(e){var t=e.data._id;n.props.nurseRemove(t)})).catch((function(e){console.log(e)}))},o.nurseConfirm=function(){var e=(0,s.Z)(o),n=o.state.nurse;Object.values(n.modal).filter((function(e){return e})).length<13?(b().options={positionClass:"toast-top-full-width",hideDuration:300,timeOut:3e3},b().clear(),setTimeout((function(){return b().info("please input correct!")}),300)):(o.setState((0,l.Z)((0,l.Z)({},o.state),{},{nurse:(0,l.Z)((0,l.Z)({},o.state.nurse),{},{open:!1,modal:{}})})),u.Z.post("nurse/add",(0,l.Z)((0,l.Z)({},o.state.nurse.modal),{},{id:o.state.nurse.action_id})).then((function(n){var t=n.data,a=t.data;"insert"===t.state?e.props.nurseInsert(a):e.props.nurseUpdate(a)})).catch((function(e){console.log(e)})))},o.onNurseImageChange=function(e,n){var t,a=e.target.files[0],r=new FileReader;r.onloadend=function(){t=r.result,n.setState({nurse:(0,l.Z)((0,l.Z)({},n.state.nurse),{},{modal:(0,l.Z)((0,l.Z)({},n.state.nurse.modal),{},{image:t})})})},r.readAsDataURL(a)},o.nurseModalChange=function(e,n){o.setState({nurse:(0,l.Z)((0,l.Z)({},o.state.nurse),{},{modal:(0,l.Z)((0,l.Z)({},o.state.nurse.modal),{},(0,a.Z)({},e,n.target.value))})})},o.patientModal=function(e,n){null!==n&&void 0!=n?o.setState({patient:(0,l.Z)((0,l.Z)({},o.state.patient),{},{open:e,action_id:n._id,modal:(0,l.Z)((0,l.Z)({},o.state.patient.modal),n)})}):o.setState({patient:(0,l.Z)((0,l.Z)({},o.state.patient),{},{open:e,action_id:"0",modal:{}})})},o.removePatient=function(e){var n=(0,s.Z)(o);u.Z.post("patient/remove",{_id:e._id}).then((function(e){var t=e.data._id;n.props.patientRemove(t)})).catch((function(e){console.log(e)}))},o.patientConfirm=function(){var e=(0,s.Z)(o),n=o.state.patient;Object.values(n.modal).filter((function(e){return e})).length<5?(b().options={positionClass:"toast-top-full-width",hideDuration:300,timeOut:3e3},b().clear(),setTimeout((function(){return b().info("please input correct!")}),300)):(o.setState((0,l.Z)((0,l.Z)({},o.state),{},{patient:(0,l.Z)((0,l.Z)({},o.state.patient),{},{open:!1,modal:{}})})),u.Z.post("patient/add",(0,l.Z)((0,l.Z)({},o.state.patient.modal),{},{id:o.state.patient.action_id})).then((function(n){var t=n.data,a=t.data;"insert"===t.state?e.props.patientInsert(a):e.props.patientUpdate(a)})).catch((function(e){console.log(e)})))},o.onPatientImageChange=function(e,n){var t,a=e.target.files[0],r=new FileReader;r.onloadend=function(){t=r.result,n.setState({patient:(0,l.Z)((0,l.Z)({},n.state.patient),{},{modal:(0,l.Z)((0,l.Z)({},n.state.patient.modal),{},{image:t})})})},r.readAsDataURL(a)},o.patientModalChange=function(e,n){o.setState({patient:(0,l.Z)((0,l.Z)({},o.state.patient),{},{modal:(0,l.Z)((0,l.Z)({},o.state.patient.modal),{},(0,a.Z)({},e,n.target.value))})})},o.onChangeHoliday=function(e,n){var t=o.props.basic,a=(0,s.Z)(o),l=e>9?"-"+e:"-0"+e,r=t.monthNames[n.month]+l;u.Z.post("basic/holiday/get",{state:n[e].checked,date:r}).then((function(t){0==n[e].checked?b().info("Holiday Added"):b().info("Holiday Removed"),a.props.holidaySet(t.data)})).catch((function(e){console.log(e)}))},o.state={nurse:{open:!1,action_id:"0",modal:{name:"",designation:"",address:"",image:"",cell:"",code:"",country:"",experience:"",date:"",workexp:"",level:"",basic_allowances:0,housing_allowances:0,other_allowances:0}},patient:{open:!1,action_id:"0",modal:{name:"",specialty:"",address:"",image:"",cell:"",leve:""}},level:{open:!1,action_id:"0",modal:{level:"",rate:""}},holiday:{month:1,day:1}},o}return(0,o.Z)(t,[{key:"getDesignationArray",value:function(e){return 0==e.level?"Registered":"Assistant"}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,n=this.props.basic,t=this.state,a=t.nurse,l=t.patient,r=t.level;n.nurses.map((function(n){n.designation=e.getDesignationArray(n)}));var o=[{name:"Full Name",center:!0,wrap:!0,width:"150px",selector:function(e){return e.name}},{name:"Designation",center:!0,wrap:!0,selector:function(e){return e.designation}},{name:"Address",center:!0,wrap:!0,width:"150px",selector:function(e){return e.address}},{name:"Image",center:!0,wrap:!0,width:"70px",cell:function(e){return(0,N.jsx)("img",{src:e.image,style:{width:"30px",height:"40px"}})}},{name:"Cell",center:!0,selector:function(e){return e.cell},sortable:!0},{name:"Country",center:!0,wrap:!0,selector:function(e){return e.country}},{name:"Experience",center:!0,wrap:!0,selector:function(e){return e.experience}},{name:"JoinDate",center:!0,wrap:!0,selector:function(e){return e.date.slice(0,10)},sortable:!0},{name:"WorkExp",center:!0,wrap:!0,selector:function(e){return e.workexp}},{name:"Action",center:!0,wrap:!0,sortable:!1,cell:function(n){return[(0,N.jsxs)(v.Ff,{children:[(0,N.jsx)(v.$v,{outline:!0,color:"success",className:"my-1 ms-1",size:"sm",onClick:function(){return e.nurseModal(!0,n)},children:(0,N.jsx)(y.fmQ,{})}),(0,N.jsx)(v.$v,{outline:!0,color:"success",className:"my-1 me-1",size:"sm",onClick:function(){return e.removeNurse(n)},children:(0,N.jsx)(y.Xm5,{})})]},n._id)]}}],s=[{name:"Full Name",center:!0,wrap:!0,width:"30%",selector:function(e){return e.name}},{name:"Address",center:!0,wrap:!0,width:"30%",selector:function(e){return e.address}},{name:"Image",center:!0,wrap:!0,width:"70px",cell:function(e){return(0,N.jsx)("img",{src:e.image,style:{width:"30px",height:"40px"}})}},{name:"Cell",center:!0,width:"100px",selector:function(e){return e.cell},sortable:!0},{name:"Action",center:!0,wrap:!0,sortable:!1,cell:function(n){return[(0,N.jsxs)(v.Ff,{children:[(0,N.jsx)(v.$v,{outline:!0,color:"success",className:"my-1 ms-1",size:"sm",onClick:function(){return e.patientModal(!0,n)},children:(0,N.jsx)(y.fmQ,{})}),(0,N.jsx)(v.$v,{outline:!0,color:"success",className:"my-1 me-1",size:"sm",onClick:function(){return e.removePatient(n)},children:(0,N.jsx)(y.Xm5,{})})]},n._id)]}}],i=[],c=[],d=n.holidays;i.push({name:"Month",center:!0,wrap:!0,width:"70px",padding:"3px",selector:function(e){return e.month}});for(var u=function(n){i.push({name:n,center:!0,width:"2.4vw",wrap:!0,cell:function(t){return(0,N.jsx)(h.Z.Check,{disabled:t[n].disabled,checked:t[n].checked,type:"checkbox",isValid:!0,onChange:function(){return e.onChangeHoliday(n,t)}})}})},C=1;C<=31;C++)u(C);var b=n.monthNames,w=(new Date).getFullYear();for(var I in b){var k=[],_=b[I],M=new Date(w,_,0).getDate();k.month=I;for(var S=1;S<=31;S++){k[S]=[],k[S].checked=!1,k[S].disabled=!1;var T=S>9?S:"0"+S;d.includes(_+"-"+T)&&(k[S].checked=!0),S>M&&(k[S].disabled=!0)}c.push(k)}return(0,N.jsxs)(v.L5,{children:[(0,N.jsx)("div",{className:"pt-5 text-center text-dark",children:(0,N.jsx)("h1",{className:"mt-3",children:"Registration"})}),(0,N.jsx)(v.uZ,{children:(0,N.jsx)(v.TK,{children:(0,N.jsxs)(p.Z,{id:"basic_tab",children:[(0,N.jsxs)(m.Z,{eventKey:"nurse",title:"nurse",className:"p-2",children:[(0,N.jsx)(v.$v,{outline:!0,rounded:!0,color:"success",onClick:function(){return e.nurseModal(!0,null)},children:"Add Nurse"}),(0,N.jsxs)(f.CSVLink,{headers:[{label:"Full Name",key:"name"},{label:"Designation",key:"designation"},{label:"Address",key:"address"},{label:"Cell",key:"cell"},{label:"Country",key:"country"},{label:"Experience",key:"experience"},{label:"JoinDate",key:"date"},{label:"WorkExp",key:"workexp"},{label:"Basic Allowances",key:"basic_allowances"},{label:"Housing Allowances",key:"housing_allowances"},{label:"Other Allowances",key:"other_allowances"}],data:n.nurses,filename:"nurses.csv",className:"btn btn-success ",target:"_blank",children:[(0,N.jsx)(Z.Cb8,{}),"Export"]}),(0,N.jsx)("div",{className:"p-2",children:(0,N.jsx)(g.ZP,{id:"nurseTable",columns:o,data:n.nurses,fixedHeader:!0,fixedHeaderScrollHeight:"65vh",defaultPageSize:100,pagination:!0})})]},1),(0,N.jsx)(m.Z,{eventKey:"patient",title:"patient",className:"p-2",children:(0,N.jsxs)(v.uZ,{children:[(0,N.jsxs)(v.TK,{children:[(0,N.jsx)(v.$v,{outline:!0,rounded:!0,color:"success",onClick:function(){return e.patientModal(!0)},children:"Add Patient"}),(0,N.jsxs)(f.CSVLink,{headers:[{label:"Full Name",key:"name"},{label:"Address",key:"address"},{label:"Cell",key:"cell"}],data:n.patients,filename:"patients.csv",className:"btn btn-success ",target:"_blank",children:[(0,N.jsx)(Z.Cb8,{}),"Export"]})]}),(0,N.jsx)("div",{className:"p-2",children:(0,N.jsx)(g.ZP,{columns:s,data:n.patients,fixedHeader:!0,fixedHeaderScrollHeight:"65vh",defaultPageSize:100,pagination:!0})})]})},2),(0,N.jsx)(m.Z,{eventKey:"holiday",title:"holiday",className:"p-2",children:(0,N.jsx)(v.uZ,{children:(0,N.jsx)(g.ZP,{id:"holidayTable",fixedHeader:!0,fixedHeaderScrollHeight:"70vh",columns:i,data:c})})},3)]})})}),(0,N.jsxs)(x.Z,{show:a.open,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,onHide:function(){return e.nurseModal(!1)},children:[(0,N.jsx)(x.Z.Header,{closeButton:!0,children:(0,N.jsxs)(x.Z.Title,{children:["Nurse ","0"==a.action_id?"Insert":"Edit"]})}),(0,N.jsxs)(x.Z.Body,{children:[(0,N.jsxs)(v.uZ,{className:"mb-2",children:[(0,N.jsx)(v.TK,{children:(0,N.jsx)("img",{alt:"No Image",src:a.modal.image,style:{width:"90px",height:"120px"}})}),(0,N.jsx)(v.TK,{children:(0,N.jsxs)(h.Z.Group,{controlId:"ImageInput",className:"mt-3",children:[(0,N.jsx)(h.Z.Label,{children:"Select Image File"}),(0,N.jsx)(h.Z.Control,{type:"file",accept:"image/*",onChange:function(n){return e.onNurseImageChange(n,e)}})]})})]}),(0,N.jsxs)(v.uZ,{className:"mb-2",children:[(0,N.jsx)(v.TK,{children:(0,N.jsx)(j.Z,{controlId:"NameInput",label:"Full Name",children:(0,N.jsx)(h.Z.Control,{type:"text",value:a.modal.name,onChange:function(n){return e.nurseModalChange("name",n)},placeholder:"Full Name"})})}),(0,N.jsx)(v.TK,{children:(0,N.jsx)(j.Z,{controlId:"AddressInput",label:"Address",children:(0,N.jsx)(h.Z.Control,{type:"text",value:a.modal.address,onChange:function(n){return e.nurseModalChange("address",n)},placeholder:"Address"})})})]}),(0,N.jsxs)(v.uZ,{className:"mb-2",children:[(0,N.jsx)(v.TK,{md:"2",children:(0,N.jsx)(j.Z,{controlId:"CellInput",label:"Cell",children:(0,N.jsx)(h.Z.Control,{type:"number",value:a.modal.cell,onChange:function(n){return e.nurseModalChange("cell",n)},placeholder:"Cell"})})}),(0,N.jsx)(v.TK,{md:"2",children:(0,N.jsx)(j.Z,{controlId:"CodeInput",label:"Code",children:(0,N.jsx)(h.Z.Control,{type:"text",value:a.modal.code,onChange:function(n){return e.nurseModalChange("code",n)},placeholder:"Code"})})}),(0,N.jsx)(v.TK,{md:"3",children:(0,N.jsx)(j.Z,{controlId:"DateInput",label:"Joining Date",children:(0,N.jsx)(h.Z.Control,{type:"date",value:a.modal.date?a.modal.date.slice(0,10):"",onChange:function(n){return e.nurseModalChange("date",n)},placeholder:"Joining Date"})})}),(0,N.jsx)(v.TK,{md:"5",children:(0,N.jsx)(j.Z,{controlId:"CountryInput",label:"Original Country",children:(0,N.jsx)(h.Z.Control,{type:"text",value:a.modal.country,onChange:function(n){return e.nurseModalChange("country",n)},placeholder:"Original Country"})})})]}),(0,N.jsxs)(v.uZ,{className:"mb-2",children:[(0,N.jsx)(v.TK,{children:(0,N.jsx)(j.Z,{controlId:"ExperienceInput",label:"Experience",children:(0,N.jsx)(h.Z.Control,{type:"text",value:a.modal.experience,onChange:function(n){return e.nurseModalChange("experience",n)},placeholder:"Experience"})})}),(0,N.jsx)(v.TK,{children:(0,N.jsx)(j.Z,{controlId:"SpecialtyInput",label:"Specialty",children:(0,N.jsx)(h.Z.Control,{type:"text",value:a.modal.workexp,onChange:function(n){return e.nurseModalChange("workexp",n)},placeholder:"Specialty"})})}),(0,N.jsx)(v.TK,{children:(0,N.jsxs)(h.Z.Select,{"aria-label":"patient select",value:a.modal.level,style:{height:"100%"},onChange:function(n){return e.nurseModalChange("level",n)},children:[(0,N.jsx)("option",{value:"",children:"Select Here"}),(0,N.jsx)("option",{value:"0",children:"Registered Nurse"}),(0,N.jsx)("option",{value:"1",children:"Assistant Nurse"})]})})]}),(0,N.jsxs)(v.uZ,{className:"mb-2",children:[(0,N.jsx)(v.TK,{children:(0,N.jsx)(j.Z,{controlId:"BasicInput",label:"Basic Allowance",children:(0,N.jsx)(h.Z.Control,{type:"number",value:a.modal.basic_allowances,onChange:function(n){return e.nurseModalChange("basic_allowances",n)},placeholder:"Basic Allowance"})})}),(0,N.jsx)(v.TK,{children:(0,N.jsx)(j.Z,{controlId:"HousingInput",label:"Housing Allowance",children:(0,N.jsx)(h.Z.Control,{type:"number",value:a.modal.housing_allowances,onChange:function(n){return e.nurseModalChange("housing_allowances",n)},placeholder:"Housing Allowance"})})}),(0,N.jsx)(v.TK,{children:(0,N.jsx)(j.Z,{controlId:"OtherInput",label:"Other Allowance",children:(0,N.jsx)(h.Z.Control,{type:"number",value:a.modal.other_allowances,onChange:function(n){return e.nurseModalChange("other_allowances",n)},placeholder:"Other Allowance"})})})]})]}),(0,N.jsxs)(x.Z.Footer,{children:[(0,N.jsx)(v.$v,{type:"button",className:"btn btn-secondary",onClick:function(){return e.nurseModal(!1)},children:"Close"}),(0,N.jsx)(v.$v,{type:"button",className:"btn btn-success",onClick:function(){return e.nurseConfirm()},children:"Save"})]})]}),(0,N.jsxs)(x.Z,{show:l.open,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,onHide:function(){return e.patientModal(!1)},children:[(0,N.jsx)(x.Z.Header,{closeButton:!0,children:(0,N.jsxs)(x.Z.Title,{children:["Patient ","0"==l.action_id?"Insert":"Edit"]})}),(0,N.jsxs)(x.Z.Body,{children:[(0,N.jsxs)(v.uZ,{className:"mb-2 text-center",children:[(0,N.jsx)(v.TK,{children:(0,N.jsx)("img",{alt:"No Image",src:l.modal.image,style:{width:"90px",height:"120px"}})}),(0,N.jsx)(v.TK,{children:(0,N.jsxs)(h.Z.Group,{controlId:"ImageInput",className:"mt-3",children:[(0,N.jsx)(h.Z.Label,{children:"Select Image File"}),(0,N.jsx)(h.Z.Control,{type:"file",accept:"image/*",onChange:function(n){return e.onPatientImageChange(n,e)}})]})})]}),(0,N.jsxs)(v.uZ,{children:[(0,N.jsx)(v.TK,{children:(0,N.jsx)(j.Z,{controlId:"NameInput",label:"Full Name",className:"mb-3",children:(0,N.jsx)(h.Z.Control,{type:"text",value:l.modal.name,onChange:function(n){return e.patientModalChange("name",n)},placeholder:"Full Name"})})}),(0,N.jsx)(v.TK,{children:(0,N.jsx)(j.Z,{controlId:"SpecialtyInput",label:"Specialty",className:"mb-3",children:(0,N.jsx)(h.Z.Control,{type:"text",value:l.modal.specialty,onChange:function(n){return e.patientModalChange("specialty",n)},placeholder:"Full Name"})})})]}),(0,N.jsx)(v.uZ,{children:(0,N.jsx)(v.TK,{children:(0,N.jsx)(j.Z,{controlId:"AddressInput",label:"Address",className:"mb-3",children:(0,N.jsx)(h.Z.Control,{type:"text",value:l.modal.address,onChange:function(n){return e.patientModalChange("address",n)},placeholder:"Address"})})})}),(0,N.jsxs)(v.uZ,{className:"mb-3",children:[(0,N.jsx)(v.TK,{children:(0,N.jsx)(j.Z,{controlId:"CellInput",label:"Cell Number",children:(0,N.jsx)(h.Z.Control,{type:"number",value:l.modal.cell,onChange:function(n){return e.patientModalChange("cell",n)},placeholder:"Cell Number"})})}),(0,N.jsx)(v.TK,{children:(0,N.jsxs)(h.Z.Select,{"aria-label":"patient select",value:a.modal.level,style:{height:"100%"},onChange:function(n){return e.patientModalChange("level",n)},children:[(0,N.jsx)("option",{value:"",children:"Select Level"}),(0,N.jsx)("option",{value:"1",children:"Level 1"}),(0,N.jsx)("option",{value:"2",children:"Level 2"}),(0,N.jsx)("option",{value:"3",children:"Level 3"}),(0,N.jsx)("option",{value:"4",children:"Level 4"})]})})]})]}),(0,N.jsxs)(x.Z.Footer,{children:[(0,N.jsx)(v.$v,{variant:"secondary",onClick:function(){return e.patientModal(!1)},children:"Close"}),(0,N.jsx)(v.$v,{variant:"success",onClick:function(){return e.patientConfirm()},children:"Save"})]})]}),(0,N.jsxs)(x.Z,{show:r.open,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,onHide:function(){return e.levelModal(!1)},children:[(0,N.jsx)(x.Z.Header,{closeButton:!0,children:(0,N.jsxs)(x.Z.Title,{children:["Level ","0"==r.action_id?"Insert":"Edit"]})}),(0,N.jsxs)(x.Z.Body,{children:[(0,N.jsx)(v.uZ,{children:(0,N.jsx)(v.TK,{children:(0,N.jsx)(j.Z,{controlId:"LevelInput",label:"Level",className:"mb-3",children:(0,N.jsx)(h.Z.Control,{type:"text",value:r.modal.level,onChange:function(n){return e.levelModalChange("level",n)},placeholder:"Level"})})})}),(0,N.jsx)(v.uZ,{children:(0,N.jsx)(v.TK,{children:(0,N.jsx)(j.Z,{controlId:"RateInput",label:"Rate",className:"mb-3",children:(0,N.jsx)(h.Z.Control,{type:"text",value:r.modal.rate,onChange:function(n){return e.levelModalChange("rate",n)},placeholder:"Rat"})})})})]}),(0,N.jsxs)(x.Z.Footer,{children:[(0,N.jsx)(v.$v,{variant:"secondary",onClick:function(){return e.levelModal(!1)},children:"Close"}),(0,N.jsx)(v.$v,{variant:"success",onClick:function(){return e.levelConfirm()},children:"Save"})]})]})]})}}]),t}(d.Component);n.default=(0,I.$j)((function(e){return{basic:e.BasicData}}),(function(e){return{nurseInsert:function(n){return e((0,w.fw)(n))},nurseUpdate:function(n){return e((0,w.it)(n))},nurseRemove:function(n){return e((0,w.KT)(n))},patientInsert:function(n){return e((0,w.WB)(n))},patientUpdate:function(n){return e((0,w.Ri)(n))},patientRemove:function(n){return e((0,w.lW)(n))},levelInsert:function(n){return e((0,w.wy)(n))},levelUpdate:function(n){return e((0,w.wV)(n))},levelRemove:function(n){return e((0,w.$1)(n))},holidaySet:function(n){return e((0,w.$Z)(n))}}}))(k)}}]);
//# sourceMappingURL=262.1afc9dc5.chunk.js.map